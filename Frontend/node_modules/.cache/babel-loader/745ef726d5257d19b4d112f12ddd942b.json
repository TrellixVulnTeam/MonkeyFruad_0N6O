{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"D:/monkeyfruad/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/monkeyfruad/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/monkeyfruad/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useContext}from\"react\";import Historyitem from\"../components/historyitem\";import NavbarPage from\"../components/navnew\";import\"./history.css\";import usercontext from\"../context/usercontext\";import Axios from\"axios\";import Chatbot from\"../components/chatbot\";var _require=require(\"uuid\"),uuidv4=_require.v4;var History=function History(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),mypost=_useState2[0],Setmypost=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),click=_useState4[0],Setclick=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),showDropdown=_useState6[0],SetshowDropdown=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),closeSetting=_useState8[0],SetCloseSetting=_useState8[1];var _useContext=useContext(usercontext),user=_useContext.user;var uuid=uuidv4();var Hiddendropdown=function Hiddendropdown(){SetshowDropdown(false);};var ok=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _ok;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return Axios.post(\"https://monkeyfruad01.herokuapp.com/post/postapi\",{result:user});case 3:_ok=_context.sent;Setmypost(_ok.data.item);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(\"error\");case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function ok(){return _ref.apply(this,arguments);};}();var handledeletetorerender=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:Setclick(uuid);case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function handledeletetorerender(){return _ref2.apply(this,arguments);};}();useEffect(function(){ok();},[click]);console.log(mypost);return/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){Hiddendropdown();},children:[/*#__PURE__*/_jsx(NavbarPage,{SetshowDropdown:SetshowDropdown,showDropdown:showDropdown}),/*#__PURE__*/_jsx(\"h1\",{className:\"h1-history\",children:\"\\u0E1B\\u0E23\\u0E30\\u0E27\\u0E31\\u0E15\\u0E34\\u0E01\\u0E32\\u0E23\\u0E42\\u0E1E\\u0E2A\\u0E15\\u0E4C\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container-history5\",children:mypost?/*#__PURE__*/_jsxs(\"h2\",{className:\"h2-history\",children:[\"\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14 \",mypost.length,\" \\u0E42\\u0E1E\\u0E2A\\u0E15\\u0E4C\"]}):null}),mypost?mypost.map(function(ok,index){return/*#__PURE__*/_jsx(Historyitem,{ok:ok,user:user,handledeletetorerender:handledeletetorerender},index);}):null,/*#__PURE__*/_jsx(\"div\",{className:\"containeremty-history\"}),/*#__PURE__*/_jsx(Chatbot,{})]});};export default History;","map":{"version":3,"sources":["D:/monkeyfruad/frontend/src/user/pages/history.js"],"names":["React","useEffect","useState","useContext","Historyitem","NavbarPage","usercontext","Axios","Chatbot","require","uuidv4","v4","History","mypost","Setmypost","click","Setclick","showDropdown","SetshowDropdown","closeSetting","SetCloseSetting","user","uuid","Hiddendropdown","ok","post","result","data","item","console","log","handledeletetorerender","length","map","index"],"mappings":"+fAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,CAAqCC,UAArC,KAAuD,OAAvD,CACA,MAAOC,CAAAA,WAAP,KAAwB,2BAAxB,CACA,MAAOC,CAAAA,UAAP,KAAuB,sBAAvB,CACA,MAAO,eAAP,CACA,MAAOC,CAAAA,WAAP,KAAwB,wBAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,C,aACuBC,OAAO,CAAC,MAAD,C,CAAlBC,M,UAAJC,E,CAER,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,eACQV,QAAQ,EADhB,wCACbW,MADa,eACLC,SADK,8BAEMZ,QAAQ,EAFd,yCAEba,KAFa,eAENC,QAFM,8BAGoBd,QAAQ,CAAC,IAAD,CAH5B,yCAGbe,YAHa,eAGCC,eAHD,8BAIoBhB,QAAQ,CAAC,KAAD,CAJ5B,yCAIbiB,YAJa,eAICC,eAJD,+BAKLjB,UAAU,CAACG,WAAD,CALL,CAKde,IALc,aAKdA,IALc,CAMpB,GAAIC,CAAAA,IAAI,CAAGZ,MAAM,EAAjB,CACA,GAAMa,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3BL,eAAe,CAAC,KAAD,CAAf,CACD,CAFD,CAGA,GAAMM,CAAAA,EAAE,0FAAG,iLAEUjB,CAAAA,KAAK,CAACkB,IAAN,CAAW,kDAAX,CAA+D,CAC9EC,MAAM,CAAEL,IADsE,CAA/D,CAFV,QAEDG,GAFC,eAKPV,SAAS,CAACU,GAAE,CAACG,IAAH,CAAQC,IAAT,CAAT,CALO,+EAOPC,OAAO,CAACC,GAAR,CAAY,OAAZ,EAPO,oEAAH,kBAAFN,CAAAA,EAAE,0CAAR,CAUA,GAAMO,CAAAA,sBAAsB,2FAAG,wIAC7Bf,QAAQ,CAACM,IAAD,CAAR,CAD6B,wDAAH,kBAAtBS,CAAAA,sBAAsB,2CAA5B,CAGA9B,SAAS,CAAC,UAAM,CACduB,EAAE,GACH,CAFQ,CAEN,CAACT,KAAD,CAFM,CAAT,CAGAc,OAAO,CAACC,GAAR,CAAYjB,MAAZ,EAEA,mBACE,aACE,OAAO,CAAE,kBAAM,CACbU,cAAc,GACf,CAHH,wBAKE,KAAC,UAAD,EACE,eAAe,CAAEL,eADnB,CAEE,YAAY,CAAED,YAFhB,EALF,cASE,WAAI,SAAS,CAAC,YAAd,wGATF,cAUE,YAAK,SAAS,CAAC,oBAAf,UACGJ,MAAM,cACL,YAAI,SAAS,CAAC,YAAd,yDAAoCA,MAAM,CAACmB,MAA3C,qCADK,CAEH,IAHN,EAVF,CAeGnB,MAAM,CACHA,MAAM,CAACoB,GAAP,CAAW,SAACT,EAAD,CAAKU,KAAL,CAAe,CACxB,mBACE,KAAC,WAAD,EACE,EAAE,CAAEV,EADN,CAEE,IAAI,CAAEH,IAFR,CAIE,sBAAsB,CAAEU,sBAJ1B,EAGOG,KAHP,CADF,CAQD,CATD,CADG,CAWH,IA1BN,cA2BE,YAAK,SAAS,CAAC,uBAAf,EA3BF,cA6BE,KAAC,OAAD,IA7BF,GADF,CAiCD,CA7DD,CA+DA,cAAetB,CAAAA,OAAf","sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\r\nimport Historyitem from \"../components/historyitem\";\r\nimport NavbarPage from \"../components/navnew\";\r\nimport \"./history.css\";\r\nimport usercontext from \"../context/usercontext\";\r\nimport Axios from \"axios\";\r\nimport Chatbot from \"../components/chatbot\";\r\nconst { v4: uuidv4 } = require(\"uuid\");\r\n\r\nconst History = () => {\r\n  const [mypost, Setmypost] = useState();\r\n  const [click, Setclick] = useState();\r\n  const [showDropdown, SetshowDropdown] = useState(true);\r\n  const [closeSetting, SetCloseSetting] = useState(false);\r\n  let { user } = useContext(usercontext);\r\n  let uuid = uuidv4();\r\n  const Hiddendropdown = () => {\r\n    SetshowDropdown(false);\r\n  };\r\n  const ok = async () => {\r\n    try {\r\n      const ok = await Axios.post(\"https://monkeyfruad01.herokuapp.com/post/postapi\", {\r\n        result: user,\r\n      });\r\n      Setmypost(ok.data.item);\r\n    } catch (err) {\r\n      console.log(\"error\");\r\n    }\r\n  };\r\n  const handledeletetorerender = async () => {\r\n    Setclick(uuid);\r\n  };\r\n  useEffect(() => {\r\n    ok();\r\n  }, [click]);\r\n  console.log(mypost);\r\n\r\n  return (\r\n    <div\r\n      onClick={() => {\r\n        Hiddendropdown();\r\n      }}\r\n    >\r\n      <NavbarPage\r\n        SetshowDropdown={SetshowDropdown}\r\n        showDropdown={showDropdown}\r\n      />\r\n      <h1 className=\"h1-history\">ประวัติการโพสต์</h1>\r\n      <div className=\"container-history5\">\r\n        {mypost ? (\r\n          <h2 className=\"h2-history\">ทั้งหมด {mypost.length} โพสต์</h2>\r\n        ) : null}\r\n      </div>\r\n      {mypost\r\n        ? mypost.map((ok, index) => {\r\n            return (\r\n              <Historyitem\r\n                ok={ok}\r\n                user={user}\r\n                key={index}\r\n                handledeletetorerender={handledeletetorerender}\r\n              />\r\n            );\r\n          })\r\n        : null}\r\n      <div className=\"containeremty-history\"></div>\r\n\r\n      <Chatbot />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default History;"]},"metadata":{},"sourceType":"module"}