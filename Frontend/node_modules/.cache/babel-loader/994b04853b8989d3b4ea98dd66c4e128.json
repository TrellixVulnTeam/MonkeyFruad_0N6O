{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"D:/monkeyfruad/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/monkeyfruad/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/monkeyfruad/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState,useEffect}from\"react\";import{MDBNavbar,MDBNavbarBrand,MDBNavbarNav,MDBNavItem,MDBNavbarToggler,MDBCollapse,MDBDropdown,MDBDropdownToggle,MDBDropdownMenu,MDBDropdownItem,MDBBtn}from\"mdbreact\";import{BrowserRouter as Router,useHistory}from\"react-router-dom\";import\"./navnew.css\";import{auth}from\"../Frontfirebase\";import usercontext from\"../context/usercontext\";import axios from\"axios\";import*as moment from\"moment\";import\"moment/locale/th\";import{Nav}from\"react-bootstrap\";import Cliploading from\"./clipLoader\";var NavbarPage=function NavbarPage(props){var _useContext=useContext(usercontext),user=_useContext.user;var _useState=useState(),_useState2=_slicedToArray(_useState,2),displayname=_useState2[0],setDisplayname=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),photoProfile=_useState4[0],setPhotoProfile=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),admin=_useState6[0],setAdmin=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isOpen=_useState10[0],setIsopen=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),search=_useState12[0],Setsearch=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),searching=_useState14[0],Setsearching=_useState14[1];var _useState15=useState(),_useState16=_slicedToArray(_useState15,2),lastsearch=_useState16[0],Setlastsearch=_useState16[1];var _useState17=useState(),_useState18=_slicedToArray(_useState17,2),refresh=_useState18[0],Setrefresh=_useState18[1];var _useState19=useState(),_useState20=_slicedToArray(_useState19,2),allpost=_useState20[0],Setallpost=_useState20[1];var _useState21=useState([]),_useState22=_slicedToArray(_useState21,2),countNoti=_useState22[0],setCountNoti=_useState22[1];var _useState23=useState([]),_useState24=_slicedToArray(_useState23,2),noti=_useState24[0],setNoti=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),haha=_useState26[0],Sethaha=_useState26[1];var _useState27=useState(),_useState28=_slicedToArray(_useState27,2),error=_useState28[0],Seterror=_useState28[1];var _useState29=useState(false),_useState30=_slicedToArray(_useState29,2),hideCountNoti=_useState30[0],SetHideCountNoti=_useState30[1];var _useState31=useState(false),_useState32=_slicedToArray(_useState31,2),hideCountNotiAlways=_useState32[0],SetHideCountNotiAlways=_useState32[1];var _useState33=useState(false),_useState34=_slicedToArray(_useState33,2),reFreshNoti=_useState34[0],setReFreshNoti=_useState34[1];var _useState35=useState(false),_useState36=_slicedToArray(_useState35,2),accountNumber=_useState36[0],setAccountNumber=_useState36[1];var history=useHistory();var i=0;//forsearch\nvar logout=function logout(){auth.signOut().then(function(){console.log(\"Signout\");}).catch(function(err){console.log(err);});};var toggleCollapse=function toggleCollapse(){setIsopen(!isOpen);};var notiChangeClick=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(countNoti.length!=0)){_context.next=4;break;}SetHideCountNoti(true);_context.next=4;return axios.post(\"https://monkeyfruad01.herokuapp.com/post/notichangeclick/\".concat(user.uid),{countNoti:countNoti});case 4:case\"end\":return _context.stop();}}},_callee);}));return function notiChangeClick(){return _ref.apply(this,arguments);};}();var notiChangeRead=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(notiId){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.post(\"https://monkeyfruad01.herokuapp.com/post/notificationread/\".concat(notiId));case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function notiChangeRead(_x){return _ref2.apply(this,arguments);};}();var handlesearch=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var getdata;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;if(!search){_context3.next=7;break;}getdata=allpost.filter(function(doc){return doc.name.toLowerCase().includes(search.toLowerCase())||doc.surname.toLowerCase().includes(search.toLowerCase())||doc.accountnumber.includes(search)||(doc.name.toLowerCase()+\" \"+doc.surname.toLowerCase()).includes(search.toLowerCase());});Setsearch(\"\");if(getdata){console.log(getdata);history.push({pathname:\"/entersearch\",search:\"?are you ok\",state:{getdata:getdata,search:search}});}_context3.next=7;return axios.post(\"https://monkeyfruad01.herokuapp.com/post/search\",{search:search});case 7:_context3.next=12;break;case 9:_context3.prev=9;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);case 12:case\"end\":return _context3.stop();}}},_callee3,null,[[0,9]]);}));return function handlesearch(){return _ref3.apply(this,arguments);};}();var handleSearchDropdown=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(search){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;console.log(search);_context4.next=4;return axios.post(\"https://monkeyfruad01.herokuapp.com/post/search\",{search:search});case 4:history.push({pathname:\"/thief/post/\".concat(search),search:\"?are you ok\"});window.location.reload(true);_context4.next=11;break;case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](0);console.log(_context4.t0);case 11:case\"end\":return _context4.stop();}}},_callee4,null,[[0,8]]);}));return function handleSearchDropdown(_x2){return _ref4.apply(this,arguments);};}();var initSearch=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var getallthief,getallpost,getthief;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return axios.get(\"https://monkeyfruad01.herokuapp.com/thief/thief\");case 3:getallthief=_context5.sent;Setsearching(getallthief.data.item);_context5.next=7;return axios.get(\"https://monkeyfruad01.herokuapp.com/post/post\");case 7:getallpost=_context5.sent;Setallpost(getallpost.data.item);getthief=getallthief.data.item;if(search){Seterror();Setlastsearch(getthief.filter(function(doc){if((doc.name.toLowerCase()+\" \"+doc.surname.toLowerCase()).startsWith(search.toLowerCase())){Sethaha(true);}if(doc.accountnumber.startsWith(search)){setAccountNumber(true);}if(doc.name.toLowerCase().startsWith(search.toLowerCase())){Sethaha(true);}if(doc.surname.toLowerCase().startsWith(search.toLowerCase())){Sethaha(true);}return doc.name.toLowerCase().startsWith(search.toLowerCase())||doc.surname.toLowerCase().startsWith(search.toLowerCase())||doc.accountnumber.startsWith(search)||(doc.name.toLowerCase()+\" \"+doc.surname.toLowerCase()).startsWith(search.toLowerCase());}));}if(!search){Setlastsearch();}_context5.next=17;break;case 14:_context5.prev=14;_context5.t0=_context5[\"catch\"](0);console.log(_context5.t0);case 17:case\"end\":return _context5.stop();}}},_callee5,null,[[0,14]]);}));return function initSearch(){return _ref5.apply(this,arguments);};}();console.log(lastsearch);var initUser=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return axios.post(\"https://monkeyfruad01.herokuapp.com/user/session\",{user:user}).then(function(result){setDisplayname(result.data.data.username);setPhotoProfile(result.data.data.photoURL);});case 2:_context6.next=4;return axios.post(\"https://monkeyfruad01.herokuapp.com/post/getnotification/\".concat(user.uid)).then(function(result){setNoti(result.data);}).catch(function(err){console.log(err);});case 4:_context6.next=6;return axios.post(\"https://monkeyfruad01.herokuapp.com/post/getnoticlickfalse/\".concat(user.uid)).then(function(result){if(result.data[0]===undefined){SetHideCountNotiAlways(true);}else{SetHideCountNoti(false);SetHideCountNotiAlways(false);setCountNoti(result.data);}}).catch(function(err){console.log(err);});case 6:case\"end\":return _context6.stop();}}},_callee6);}));return function initUser(){return _ref6.apply(this,arguments);};}();useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:if(!user){_context7.next=4;break;}_context7.next=3;return initUser();case 3:setLoading(false);case 4:initSearch();setLoading(false);// setTimeout(() => {\n//   setReFreshNoti(!reFreshNoti);\n// }, 2000);\ncase 6:case\"end\":return _context7.stop();}}},_callee7);})),[user,search,hideCountNoti,reFreshNoti]);return/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsxs(MDBNavbar,{light:true,expand:\"md\",className:\"navbarnew\",children:[/*#__PURE__*/_jsx(Nav.Link,{href:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/img/logo-mf.png\",className:\"logo-nav\"})}),user?/*#__PURE__*/_jsxs(MDBDropdown,{children:[/*#__PURE__*/_jsx(MDBDropdownToggle,{nav:true,className:\"noti-mobile\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-noti\",onClick:function onClick(){return notiChangeClick();},children:[/*#__PURE__*/_jsx(\"img\",{src:\"/img/notification.png\",className:\"noti-logo\"}),loading?null:hideCountNotiAlways?null:hideCountNoti?null:/*#__PURE__*/_jsx(\"span\",{className:\"badge\",children:countNoti.length})]})}),noti.length!=0?/*#__PURE__*/_jsx(MDBDropdownMenu,{className:\"dropdown-default dropdown-top-noti\",children:/*#__PURE__*/_jsx(\"div\",{className:\"box-nav-noti\",children:noti.map(function(element,index){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(MDBDropdownItem,{className:\"hover-noti-nav\",href:\"/mypost/\".concat(element.postid),onClick:function onClick(){return notiChangeRead(element.uid);},children:[element.userCommentData.photoURL?/*#__PURE__*/_jsx(\"img\",{className:\"img-circle  profile-nav-noti\",src:\"\".concat(element.userCommentData.photoURL.url)}):/*#__PURE__*/_jsx(\"img\",{className:\"img-circle profile-nav-noti\",src:\"/img/profile.png\"}),element.read?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"name-nav-noti-read\",children:[\"@\",element.userCommentData.username]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-nav-noti-read\",children:\"\\u0E41\\u0E2A\\u0E14\\u0E07\\u0E04\\u0E27\\u0E32\\u0E21\\u0E04\\u0E34\\u0E14\\u0E40\\u0E2B\\u0E47\\u0E19\\u0E15\\u0E48\\u0E2D\\u0E42\\u0E1E\\u0E2A\\u0E15\\u0E4C\\u0E02\\u0E2D\\u0E07\\u0E04\\u0E38\\u0E13\"}),/*#__PURE__*/_jsx(\"div\",{className:\"time-nav-noti-read\",children:moment(new Date(element.date.seconds*1000)).startOf().fromNow()})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"name-nav-noti\",children:[\"@\",element.userCommentData.username]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-nav-noti\",children:\"\\u0E41\\u0E2A\\u0E14\\u0E07\\u0E04\\u0E27\\u0E32\\u0E21\\u0E04\\u0E34\\u0E14\\u0E40\\u0E2B\\u0E47\\u0E19\\u0E15\\u0E48\\u0E2D\\u0E42\\u0E1E\\u0E2A\\u0E15\\u0E4C\\u0E02\\u0E2D\\u0E07\\u0E04\\u0E38\\u0E13\"}),/*#__PURE__*/_jsx(\"div\",{className:\"time-nav-noti\",children:moment(new Date(element.date.seconds*1000)).startOf().fromNow()})]})]})},index);})})}):null]}):null,/*#__PURE__*/_jsx(MDBNavbarToggler,{onClick:toggleCollapse}),/*#__PURE__*/_jsxs(MDBCollapse,{id:\"navbarCollapse3\",isOpen:isOpen,navbar:true,children:[/*#__PURE__*/_jsxs(MDBNavbarNav,{left:true,className:\"center-nav\",children:[/*#__PURE__*/_jsx(MDBNavItem,{children:/*#__PURE__*/_jsxs(MDBDropdown,{children:[/*#__PURE__*/_jsx(MDBDropdownToggle,{nav:true,caret:true,children:\"\\u0E42\\u0E1E\\u0E2A\\u0E15\\u0E4C\"}),/*#__PURE__*/_jsxs(MDBDropdownMenu,{className:\"dropdown-default dropdown-top1\",children:[/*#__PURE__*/_jsx(MDBDropdownItem,{href:\"/post\",children:\"\\u0E42\\u0E1E\\u0E2A\\u0E15\\u0E4C\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\"}),/*#__PURE__*/_jsx(MDBDropdownItem,{href:\"/linkruleshow\",children:\"\\u0E2A\\u0E23\\u0E49\\u0E32\\u0E07\\u0E42\\u0E1E\\u0E2A\\u0E15\\u0E4C\"})]})]})}),/*#__PURE__*/_jsx(MDBNavItem,{children:/*#__PURE__*/_jsx(Nav.Link,{href:\"/ranking\",children:\"\\u0E08\\u0E31\\u0E14\\u0E2D\\u0E31\\u0E19\\u0E14\\u0E31\\u0E1A\\u0E04\\u0E19\\u0E42\\u0E01\\u0E07\"})}),/*#__PURE__*/_jsx(MDBNavItem,{children:/*#__PURE__*/_jsxs(MDBDropdown,{children:[/*#__PURE__*/_jsx(MDBDropdownToggle,{nav:true,caret:true,children:\"\\u0E0A\\u0E48\\u0E27\\u0E22\\u0E40\\u0E2B\\u0E25\\u0E37\\u0E2D\"}),/*#__PURE__*/_jsxs(MDBDropdownMenu,{className:\"dropdown-default dropdown-top2\",children:[/*#__PURE__*/_jsx(MDBDropdownItem,{href:\"/prevent\",children:\"\\u0E01\\u0E25\\u0E42\\u0E01\\u0E07\\u0E17\\u0E35\\u0E48\\u0E1E\\u0E1A\\u0E1A\\u0E48\\u0E2D\\u0E22\"}),/*#__PURE__*/_jsx(MDBDropdownItem,{href:\"/help\",children:\"\\u0E2B\\u0E19\\u0E48\\u0E27\\u0E22\\u0E07\\u0E32\\u0E19\\u0E17\\u0E35\\u0E48\\u0E43\\u0E2B\\u0E49\\u0E04\\u0E27\\u0E32\\u0E21\\u0E0A\\u0E48\\u0E27\\u0E22\\u0E40\\u0E2B\\u0E25\\u0E37\\u0E2D\"})]})]})}),/*#__PURE__*/_jsx(MDBNavItem,{children:/*#__PURE__*/_jsx(Nav.Link,{href:\"/contractus\",children:\"\\u0E15\\u0E34\\u0E14\\u0E15\\u0E48\\u0E2D\"})})]}),/*#__PURE__*/_jsxs(MDBNavbarNav,{right:true,children:[/*#__PURE__*/_jsx(MDBNavItem,{children:/*#__PURE__*/_jsx(\"div\",{className:\" my-0\",children:/*#__PURE__*/_jsx(\"input\",{className:\"box-nav mr-sm-2\",type:\"text\",placeholder:\"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\\u0E14\\u0E49\\u0E27\\u0E22\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E2B\\u0E23\\u0E37\\u0E2D\\u0E40\\u0E25\\u0E02\\u0E17\\u0E35\\u0E48\\u0E1A\\u0E31\\u0E0D\\u0E0A\\u0E35\",\"aria-label\":\"Search\",value:search,onChange:function onChange(e){Setsearch(e.target.value);props.SetshowDropdown(true);}})})}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handlesearch();},className:\"button-nav\",children:\"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\"}),user?/*#__PURE__*/_jsx(MDBNavItem,{children:/*#__PURE__*/_jsxs(MDBDropdown,{children:[/*#__PURE__*/_jsx(MDBDropdownToggle,{nav:true,className:\"noti-comp\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-noti\",onClick:function onClick(){return notiChangeClick();},children:[/*#__PURE__*/_jsx(\"img\",{src:\"/img/notification.png\",className:\"noti-logo\"}),loading?null:hideCountNotiAlways?null:hideCountNoti?null:/*#__PURE__*/_jsx(\"span\",{className:\"badge\",children:countNoti.length})]})}),noti.length!=0?/*#__PURE__*/_jsx(MDBDropdownMenu,{className:\"dropdown-default dropdown-top-noti\",children:/*#__PURE__*/_jsx(\"div\",{className:\"box-nav-noti\",children:noti.map(function(element,index){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(MDBDropdownItem,{className:\"hover-noti-nav\",href:\"/mypost/\".concat(element.postid),onClick:function onClick(){return notiChangeRead(element.uid);},children:[element.userCommentData.photoURL?/*#__PURE__*/_jsx(\"img\",{className:\"img-circle  profile-nav-noti\",src:\"\".concat(element.userCommentData.photoURL.url)}):/*#__PURE__*/_jsx(\"img\",{className:\"img-circle profile-nav-noti\",src:\"/img/profile.png\"}),element.read?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"name-nav-noti-read\",children:[\"@\",element.userCommentData.username]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-nav-noti-read\",children:\"\\u0E41\\u0E2A\\u0E14\\u0E07\\u0E04\\u0E27\\u0E32\\u0E21\\u0E04\\u0E34\\u0E14\\u0E40\\u0E2B\\u0E47\\u0E19\\u0E15\\u0E48\\u0E2D\\u0E42\\u0E1E\\u0E2A\\u0E15\\u0E4C\\u0E02\\u0E2D\\u0E07\\u0E04\\u0E38\\u0E13\"}),/*#__PURE__*/_jsx(\"div\",{className:\"time-nav-noti-read\",children:moment(new Date(element.date.seconds*1000)).startOf().fromNow()})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"name-nav-noti\",children:[\"@\",element.userCommentData.username]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-nav-noti\",children:\"\\u0E41\\u0E2A\\u0E14\\u0E07\\u0E04\\u0E27\\u0E32\\u0E21\\u0E04\\u0E34\\u0E14\\u0E40\\u0E2B\\u0E47\\u0E19\\u0E15\\u0E48\\u0E2D\\u0E42\\u0E1E\\u0E2A\\u0E15\\u0E4C\\u0E02\\u0E2D\\u0E07\\u0E04\\u0E38\\u0E13\"}),/*#__PURE__*/_jsx(\"div\",{className:\"time-nav-noti\",children:moment(new Date(element.date.seconds*1000)).startOf().fromNow()})]})]})},index);})})}):null]})}):null,/*#__PURE__*/_jsx(MDBNavItem,{children:user?/*#__PURE__*/_jsxs(MDBDropdown,{children:[/*#__PURE__*/_jsx(MDBDropdownToggle,{nav:true,className:\"noti-comp\",children:/*#__PURE__*/_jsx(\"div\",{className:\"navbar-noti\",onClick:function onClick(){return notiChangeClick();},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-sort-down\"})})}),/*#__PURE__*/_jsx(MDBDropdownMenu,{className:\"dropdown-default dropdown-top-profile\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"box-nav-profile\",children:[/*#__PURE__*/_jsxs(MDBDropdownItem,{href:\"/profile/\".concat(user.uid),children:[photoProfile?/*#__PURE__*/_jsx(\"img\",{className:\"img-circle-profile-nav\",src:\"\".concat(photoProfile.url)}):/*#__PURE__*/_jsx(\"img\",{className:\"img-circle-profile-nav\",src:\"/img/profile.png\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"username-nav\",children:[\"@\",displayname]}),/*#__PURE__*/_jsx(\"p\",{className:\"username-nav-settingprofile\",children:\"\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\\u0E42\\u0E1B\\u0E23\\u0E44\\u0E1F\\u0E25\\u0E4C\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"line-profile-nav\"}),/*#__PURE__*/_jsx(MDBDropdownItem,{href:\"/post/history\",children:\"\\u0E1B\\u0E23\\u0E30\\u0E27\\u0E31\\u0E15\\u0E34\\u0E01\\u0E32\\u0E23\\u0E42\\u0E1E\\u0E2A\\u0E15\\u0E4C\"}),/*#__PURE__*/_jsx(\"div\",{className:\"line-nav\"}),/*#__PURE__*/_jsx(MDBDropdownItem,{href:\"/login\",onClick:logout,children:\"\\u0E2D\\u0E2D\\u0E01\\u0E08\\u0E32\\u0E01\\u0E23\\u0E30\\u0E1A\\u0E1A\"})]})})]}):/*#__PURE__*/_jsx(Nav.Link,{href:\"/login\",className:\"noti-comp\",children:\"\\u0E40\\u0E02\\u0E49\\u0E32\\u0E2A\\u0E39\\u0E48\\u0E23\\u0E30\\u0E1A\\u0E1A\"})}),/*#__PURE__*/_jsx(MDBNavItem,{className:\"noti-mobile\",children:user?/*#__PURE__*/_jsxs(MDBDropdown,{children:[/*#__PURE__*/_jsx(MDBDropdownToggle,{nav:true,caret:true,left:true,className:\"dropdown-username-nav\",children:displayname}),/*#__PURE__*/_jsxs(MDBDropdownMenu,{className:\"dropdown-default dropdown-bottom\",right:true,children:[/*#__PURE__*/_jsx(MDBDropdownItem,{href:\"/profile/\".concat(user.uid),children:\"\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\\u0E42\\u0E1B\\u0E23\\u0E44\\u0E1F\\u0E25\\u0E4C\"}),/*#__PURE__*/_jsx(MDBDropdownItem,{href:\"/post/history\",children:\"\\u0E1B\\u0E23\\u0E30\\u0E27\\u0E31\\u0E15\\u0E34\\u0E01\\u0E32\\u0E23\\u0E42\\u0E1E\\u0E2A\\u0E15\\u0E4C\"}),/*#__PURE__*/_jsx(\"div\",{className:\"line-nav\"}),/*#__PURE__*/_jsx(MDBDropdownItem,{href:\"/login\",onClick:logout,children:\"\\u0E2D\\u0E2D\\u0E01\\u0E08\\u0E32\\u0E01\\u0E23\\u0E30\\u0E1A\\u0E1A\"})]})]}):/*#__PURE__*/_jsx(Nav.Link,{href:\"/login\",children:\"\\u0E40\\u0E02\\u0E49\\u0E32\\u0E2A\\u0E39\\u0E48\\u0E23\\u0E30\\u0E1A\\u0E1A\"})})]})]})]}),user?/*#__PURE__*/_jsxs(\"div\",{className:\"gg\",children:[lastsearch?lastsearch.map(function(doc){var thiefNameAndSurname=\"\".concat(doc.name,\" \").concat(doc.surname);var thiefAccountNumber=\"\".concat(doc.accountnumber);console.log(thiefAccountNumber);i++;return/*#__PURE__*/_jsx(\"div\",{className:\"boxsearch-nav\",children:i<=10?/*#__PURE__*/_jsxs(\"div\",{children:[\" \",haha?props.showDropdown?/*#__PURE__*/_jsx(\"button\",{className:\"search-nav\",onClick:function onClick(){return handleSearchDropdown(thiefNameAndSurname);},children:/*#__PURE__*/_jsxs(\"div\",{children:[\" \",doc.name,\" \",doc.surname]})}):null:accountNumber?props.showDropdown?/*#__PURE__*/_jsx(\"button\",{className:\"search-nav\",onClick:function onClick(){return handleSearchDropdown(thiefAccountNumber);},children:/*#__PURE__*/_jsxs(\"div\",{children:[\" \",doc.accountnumber]})}):null:null]}):null});}):null,lastsearch?props.showDropdown?/*#__PURE__*/_jsxs(\"div\",{className:\"dropsearch-nav\",onClick:function onClick(){return handlesearch();},children:[\"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32 \",search]}):null:null]}):/*#__PURE__*/_jsxs(\"div\",{className:\"gg-nologin\",children:[lastsearch?lastsearch.map(function(doc){var thiefNameAndSurname=\"\".concat(doc.name,\" \").concat(doc.surname);var thiefAccountNumber=\"\".concat(doc.accountnumber);console.log(thiefAccountNumber);i++;return/*#__PURE__*/_jsx(\"div\",{className:\"boxsearch-nav\",children:i<=10?/*#__PURE__*/_jsxs(\"div\",{children:[\" \",haha?props.showDropdown?/*#__PURE__*/_jsx(\"button\",{className:\"search-nav\",onClick:function onClick(){return handleSearchDropdown(thiefNameAndSurname);},children:/*#__PURE__*/_jsxs(\"div\",{children:[\" \",doc.name,\" \",doc.surname]})}):null:accountNumber?props.showDropdown?/*#__PURE__*/_jsx(\"button\",{className:\"search-nav\",onClick:function onClick(){return handleSearchDropdown(thiefAccountNumber);},children:/*#__PURE__*/_jsxs(\"div\",{children:[\" \",doc.accountnumber]})}):null:null]}):null});}):null,lastsearch?props.showDropdown?/*#__PURE__*/_jsxs(\"div\",{className:\"dropsearch-nav\",onClick:function onClick(){return handlesearch();},children:[\"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32 \",search]}):null:null]})]});};export default NavbarPage;","map":{"version":3,"sources":["D:/monkeyfruad/frontend/src/user/components/navnew.js"],"names":["React","useContext","useState","useEffect","MDBNavbar","MDBNavbarBrand","MDBNavbarNav","MDBNavItem","MDBNavbarToggler","MDBCollapse","MDBDropdown","MDBDropdownToggle","MDBDropdownMenu","MDBDropdownItem","MDBBtn","BrowserRouter","Router","useHistory","auth","usercontext","axios","moment","Nav","Cliploading","NavbarPage","props","user","displayname","setDisplayname","photoProfile","setPhotoProfile","admin","setAdmin","loading","setLoading","isOpen","setIsopen","search","Setsearch","searching","Setsearching","lastsearch","Setlastsearch","refresh","Setrefresh","allpost","Setallpost","countNoti","setCountNoti","noti","setNoti","haha","Sethaha","error","Seterror","hideCountNoti","SetHideCountNoti","hideCountNotiAlways","SetHideCountNotiAlways","reFreshNoti","setReFreshNoti","accountNumber","setAccountNumber","history","i","logout","signOut","then","console","log","catch","err","toggleCollapse","notiChangeClick","length","post","uid","notiChangeRead","notiId","handlesearch","getdata","filter","doc","name","toLowerCase","includes","surname","accountnumber","push","pathname","state","handleSearchDropdown","window","location","reload","initSearch","get","getallthief","data","item","getallpost","getthief","startsWith","initUser","result","username","photoURL","undefined","map","element","index","postid","userCommentData","url","read","Date","date","seconds","startOf","fromNow","e","target","value","SetshowDropdown","thiefNameAndSurname","thiefAccountNumber","showDropdown"],"mappings":"+fAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,QAA5B,CAAsCC,SAAtC,KAAuD,OAAvD,CACA,OACEC,SADF,CAEEC,cAFF,CAGEC,YAHF,CAIEC,UAJF,CAKEC,gBALF,CAMEC,WANF,CAOEC,WAPF,CAQEC,iBARF,CASEC,eATF,CAUEC,eAVF,CAWEC,MAXF,KAYO,UAZP,CAaA,OAASC,aAAa,GAAIC,CAAAA,MAA1B,CAAkCC,UAAlC,KAAoD,kBAApD,CACA,MAAO,cAAP,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,WAAP,KAAwB,wBAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,GAAKC,CAAAA,MAAZ,KAAwB,QAAxB,CACA,MAAO,kBAAP,CACA,OAASC,GAAT,KAAoB,iBAApB,CACA,MAAOC,CAAAA,WAAP,KAAwB,cAAxB,CACA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,KAAD,CAAW,iBACbxB,UAAU,CAACkB,WAAD,CADG,CACtBO,IADsB,aACtBA,IADsB,eAEUxB,QAAQ,EAFlB,wCAErByB,WAFqB,eAERC,cAFQ,8BAGY1B,QAAQ,EAHpB,yCAGrB2B,YAHqB,eAGPC,eAHO,8BAIF5B,QAAQ,CAAC,KAAD,CAJN,yCAIrB6B,KAJqB,eAIdC,QAJc,8BAKE9B,QAAQ,CAAC,IAAD,CALV,yCAKrB+B,OALqB,eAKZC,UALY,8BAMAhC,QAAQ,CAAC,KAAD,CANR,0CAMrBiC,MANqB,gBAMbC,SANa,gCAOAlC,QAAQ,EAPR,2CAOrBmC,MAPqB,gBAObC,SAPa,gCAQMpC,QAAQ,EARd,2CAQrBqC,SARqB,gBAQVC,YARU,gCASQtC,QAAQ,EAThB,2CASrBuC,UATqB,gBASTC,aATS,gCAUExC,QAAQ,EAVV,2CAUrByC,OAVqB,gBAUZC,UAVY,gCAWE1C,QAAQ,EAXV,2CAWrB2C,OAXqB,gBAWZC,UAXY,gCAYM5C,QAAQ,CAAC,EAAD,CAZd,2CAYrB6C,SAZqB,gBAYVC,YAZU,gCAaJ9C,QAAQ,CAAC,EAAD,CAbJ,2CAarB+C,IAbqB,gBAafC,OAbe,gCAcJhD,QAAQ,CAAC,KAAD,CAdJ,2CAcrBiD,IAdqB,gBAcfC,OAde,gCAeFlD,QAAQ,EAfN,2CAerBmD,KAfqB,gBAedC,QAfc,gCAgBcpD,QAAQ,CAAC,KAAD,CAhBtB,2CAgBrBqD,aAhBqB,gBAgBNC,gBAhBM,gCAiB0BtD,QAAQ,CAAC,KAAD,CAjBlC,2CAiBrBuD,mBAjBqB,gBAiBAC,sBAjBA,gCAkBUxD,QAAQ,CAAC,KAAD,CAlBlB,2CAkBrByD,WAlBqB,gBAkBRC,cAlBQ,gCAmBc1D,QAAQ,CAAC,KAAD,CAnBtB,2CAmBrB2D,aAnBqB,gBAmBNC,gBAnBM,gBAqB5B,GAAIC,CAAAA,OAAO,CAAG9C,UAAU,EAAxB,CACA,GAAI+C,CAAAA,CAAC,CAAG,CAAR,CAAW;AACX,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACnB/C,IAAI,CACDgD,OADH,GAEGC,IAFH,CAEQ,UAAM,CACVC,OAAO,CAACC,GAAR,CAAY,SAAZ,EACD,CAJH,EAKGC,KALH,CAKS,SAACC,GAAD,CAAS,CACdH,OAAO,CAACC,GAAR,CAAYE,GAAZ,EACD,CAPH,EAQD,CATD,CAUA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3BpC,SAAS,CAAC,CAACD,MAAF,CAAT,CACD,CAFD,CAGA,GAAMsC,CAAAA,eAAe,0FAAG,wIAClB1B,SAAS,CAAC2B,MAAV,EAAoB,CADF,0BAEpBlB,gBAAgB,CAAC,IAAD,CAAhB,CAFoB,sBAGdpC,CAAAA,KAAK,CAACuD,IAAN,oEACwDjD,IAAI,CAACkD,GAD7D,EAEJ,CAAE7B,SAAS,CAATA,SAAF,CAFI,CAHc,uDAAH,kBAAf0B,CAAAA,eAAe,0CAArB,CASA,GAAMI,CAAAA,cAAc,2FAAG,kBAAOC,MAAP,6IACf1D,CAAAA,KAAK,CAACuD,IAAN,qEACyDG,MADzD,EADe,yDAAH,kBAAdD,CAAAA,cAAc,6CAApB,CAKA,GAAME,CAAAA,YAAY,2FAAG,yKAEb1C,MAFa,0BAGT2C,OAHS,CAGCnC,OAAO,CAACoC,MAAR,CAAe,SAACC,GAAD,CAAS,CACtC,MACEA,CAAAA,GAAG,CAACC,IAAJ,CAASC,WAAT,GAAuBC,QAAvB,CAAgChD,MAAM,CAAC+C,WAAP,EAAhC,GACAF,GAAG,CAACI,OAAJ,CAAYF,WAAZ,GAA0BC,QAA1B,CAAmChD,MAAM,CAAC+C,WAAP,EAAnC,CADA,EAEAF,GAAG,CAACK,aAAJ,CAAkBF,QAAlB,CAA2BhD,MAA3B,CAFA,EAGA,CAAC6C,GAAG,CAACC,IAAJ,CAASC,WAAT,GAAyB,GAAzB,CAA+BF,GAAG,CAACI,OAAJ,CAAYF,WAAZ,EAAhC,EAA2DC,QAA3D,CACEhD,MAAM,CAAC+C,WAAP,EADF,CAJF,CAQD,CATe,CAHD,CAaf9C,SAAS,CAAC,EAAD,CAAT,CACA,GAAI0C,OAAJ,CAAa,CACXZ,OAAO,CAACC,GAAR,CAAYW,OAAZ,EACAjB,OAAO,CAACyB,IAAR,CAAa,CACXC,QAAQ,CAAE,cADC,CAEXpD,MAAM,CAAE,aAFG,CAGXqD,KAAK,CAAE,CACLV,OAAO,CAAPA,OADK,CAEL3C,MAAM,CAANA,MAFK,CAHI,CAAb,EAQD,CAxBc,uBAyBTjB,CAAAA,KAAK,CAACuD,IAAN,mDAA8D,CAClEtC,MAAM,CAANA,MADkE,CAA9D,CAzBS,2FA8BjB+B,OAAO,CAACC,GAAR,eA9BiB,sEAAH,kBAAZU,CAAAA,YAAY,2CAAlB,CAiCA,GAAMY,CAAAA,oBAAoB,2FAAG,kBAAOtD,MAAP,uIAEzB+B,OAAO,CAACC,GAAR,CAAYhC,MAAZ,EAFyB,uBAGnBjB,CAAAA,KAAK,CAACuD,IAAN,mDAA8D,CAClEtC,MAAM,CAANA,MADkE,CAA9D,CAHmB,QAMzB0B,OAAO,CAACyB,IAAR,CAAa,CACXC,QAAQ,uBAAiBpD,MAAjB,CADG,CAEXA,MAAM,CAAE,aAFG,CAAb,EAIAuD,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,IAAvB,EAVyB,mFAYzB1B,OAAO,CAACC,GAAR,eAZyB,sEAAH,kBAApBsB,CAAAA,oBAAoB,8CAA1B,CAeA,GAAMI,CAAAA,UAAU,2FAAG,oNAEW3E,CAAAA,KAAK,CAAC4E,GAAN,mDAFX,QAETC,WAFS,gBAKfzD,YAAY,CAACyD,WAAW,CAACC,IAAZ,CAAiBC,IAAlB,CAAZ,CALe,uBAMU/E,CAAAA,KAAK,CAAC4E,GAAN,iDANV,QAMTI,UANS,gBASftD,UAAU,CAACsD,UAAU,CAACF,IAAX,CAAgBC,IAAjB,CAAV,CACME,QAVS,CAUEJ,WAAW,CAACC,IAAZ,CAAiBC,IAVnB,CAWf,GAAI9D,MAAJ,CAAY,CACViB,QAAQ,GACRZ,aAAa,CACX2D,QAAQ,CAACpB,MAAT,CAAgB,SAACC,GAAD,CAAS,CACvB,GACE,CACEA,GAAG,CAACC,IAAJ,CAASC,WAAT,GACA,GADA,CAEAF,GAAG,CAACI,OAAJ,CAAYF,WAAZ,EAHF,EAIEkB,UAJF,CAIajE,MAAM,CAAC+C,WAAP,EAJb,CADF,CAME,CACAhC,OAAO,CAAC,IAAD,CAAP,CACD,CACD,GAAI8B,GAAG,CAACK,aAAJ,CAAkBe,UAAlB,CAA6BjE,MAA7B,CAAJ,CAA0C,CACxCyB,gBAAgB,CAAC,IAAD,CAAhB,CACD,CACD,GAAIoB,GAAG,CAACC,IAAJ,CAASC,WAAT,GAAuBkB,UAAvB,CAAkCjE,MAAM,CAAC+C,WAAP,EAAlC,CAAJ,CAA6D,CAC3DhC,OAAO,CAAC,IAAD,CAAP,CACD,CACD,GAAI8B,GAAG,CAACI,OAAJ,CAAYF,WAAZ,GAA0BkB,UAA1B,CAAqCjE,MAAM,CAAC+C,WAAP,EAArC,CAAJ,CAAgE,CAC9DhC,OAAO,CAAC,IAAD,CAAP,CACD,CACD,MACE8B,CAAAA,GAAG,CAACC,IAAJ,CAASC,WAAT,GAAuBkB,UAAvB,CAAkCjE,MAAM,CAAC+C,WAAP,EAAlC,GACAF,GAAG,CAACI,OAAJ,CAAYF,WAAZ,GAA0BkB,UAA1B,CAAqCjE,MAAM,CAAC+C,WAAP,EAArC,CADA,EAEAF,GAAG,CAACK,aAAJ,CAAkBe,UAAlB,CAA6BjE,MAA7B,CAFA,EAGA,CACE6C,GAAG,CAACC,IAAJ,CAASC,WAAT,GACA,GADA,CAEAF,GAAG,CAACI,OAAJ,CAAYF,WAAZ,EAHF,EAIEkB,UAJF,CAIajE,MAAM,CAAC+C,WAAP,EAJb,CAJF,CAUD,CA7BD,CADW,CAAb,CAgCD,CACD,GAAI,CAAC/C,MAAL,CAAa,CACXK,aAAa,GACd,CAhDc,qFAkDf0B,OAAO,CAACC,GAAR,eAlDe,uEAAH,kBAAV0B,CAAAA,UAAU,2CAAhB,CAqDA3B,OAAO,CAACC,GAAR,CAAY5B,UAAZ,EACA,GAAM8D,CAAAA,QAAQ,2FAAG,+JACTnF,CAAAA,KAAK,CACRuD,IADG,CACE,kDADF,CACsD,CACxDjD,IAAI,CAAEA,IADkD,CADtD,EAIHyC,IAJG,CAIE,SAACqC,MAAD,CAAY,CAChB5E,cAAc,CAAC4E,MAAM,CAACN,IAAP,CAAYA,IAAZ,CAAiBO,QAAlB,CAAd,CACA3E,eAAe,CAAC0E,MAAM,CAACN,IAAP,CAAYA,IAAZ,CAAiBQ,QAAlB,CAAf,CACD,CAPG,CADS,+BASTtF,CAAAA,KAAK,CACRuD,IADG,oEAE0DjD,IAAI,CAACkD,GAF/D,GAIHT,IAJG,CAIE,SAACqC,MAAD,CAAY,CAChBtD,OAAO,CAACsD,MAAM,CAACN,IAAR,CAAP,CACD,CANG,EAOH5B,KAPG,CAOG,SAACC,GAAD,CAAS,CACdH,OAAO,CAACC,GAAR,CAAYE,GAAZ,EACD,CATG,CATS,+BAmBTnD,CAAAA,KAAK,CACRuD,IADG,sEAE4DjD,IAAI,CAACkD,GAFjE,GAIHT,IAJG,CAIE,SAACqC,MAAD,CAAY,CAChB,GAAIA,MAAM,CAACN,IAAP,CAAY,CAAZ,IAAmBS,SAAvB,CAAkC,CAChCjD,sBAAsB,CAAC,IAAD,CAAtB,CACD,CAFD,IAEO,CACLF,gBAAgB,CAAC,KAAD,CAAhB,CACAE,sBAAsB,CAAC,KAAD,CAAtB,CACAV,YAAY,CAACwD,MAAM,CAACN,IAAR,CAAZ,CACD,CACF,CAZG,EAaH5B,KAbG,CAaG,SAACC,GAAD,CAAS,CACdH,OAAO,CAACC,GAAR,CAAYE,GAAZ,EACD,CAfG,CAnBS,yDAAH,kBAARgC,CAAAA,QAAQ,2CAAd,CAoCApG,SAAS,sEAAC,4IACJuB,IADI,iDAEA6E,CAAAA,QAAQ,EAFR,QAGNrE,UAAU,CAAC,KAAD,CAAV,CAHM,OAKR6D,UAAU,GACV7D,UAAU,CAAC,KAAD,CAAV,CACA;AACA;AACA;AATQ,wDAAD,GAUN,CAACR,IAAD,CAAOW,MAAP,CAAekB,aAAf,CAA8BI,WAA9B,CAVM,CAAT,CAWA,mBACE,MAAC,MAAD,yBACE,MAAC,SAAD,EAAW,KAAK,KAAhB,CAAiB,MAAM,CAAC,IAAxB,CAA6B,SAAS,CAAC,WAAvC,wBACE,KAAC,GAAD,CAAK,IAAL,EAAU,IAAI,CAAC,GAAf,uBACE,YAAK,GAAG,CAAC,kBAAT,CAA4B,SAAS,CAAC,UAAtC,EADF,EADF,CAiBGjC,IAAI,cACH,MAAC,WAAD,yBACE,KAAC,iBAAD,EAAmB,GAAG,KAAtB,CAAuB,SAAS,CAAC,aAAjC,uBACE,aAAK,SAAS,CAAC,aAAf,CAA6B,OAAO,CAAE,yBAAM+C,CAAAA,eAAe,EAArB,EAAtC,wBACE,YAAK,GAAG,CAAC,uBAAT,CAAiC,SAAS,CAAC,WAA3C,EADF,CAEGxC,OAAO,CAAG,IAAH,CAAUwB,mBAAmB,CAAG,IAAH,CAAUF,aAAa,CAAG,IAAH,cAC1D,aAAM,SAAS,CAAC,OAAhB,UAAyBR,SAAS,CAAC2B,MAAnC,EAHJ,GADF,EADF,CASGzB,IAAI,CAACyB,MAAL,EAAe,CAAf,cACC,KAAC,eAAD,EAAiB,SAAS,CAAC,oCAA3B,uBACE,YAAK,SAAS,CAAC,cAAf,UACGzB,IAAI,CAAC2D,GAAL,CAAS,SAACC,OAAD,CAAUC,KAAV,CAAoB,CAC5B,mBACE,kCACE,MAAC,eAAD,EACE,SAAS,CAAC,gBADZ,CAEE,IAAI,mBAAaD,OAAO,CAACE,MAArB,CAFN,CAGE,OAAO,CAAE,yBAAMlC,CAAAA,cAAc,CAACgC,OAAO,CAACjC,GAAT,CAApB,EAHX,WAKGiC,OAAO,CAACG,eAAR,CAAwBN,QAAxB,cACC,YACE,SAAS,CAAC,8BADZ,CAEE,GAAG,WAAKG,OAAO,CAACG,eAAR,CAAwBN,QAAxB,CAAiCO,GAAtC,CAFL,EADD,cAMC,YACE,SAAS,CAAC,6BADZ,CAEE,GAAG,CAAC,kBAFN,EAXJ,CAgBGJ,OAAO,CAACK,IAAR,cACC,oCACE,aAAK,SAAS,CAAC,oBAAf,eACIL,OAAO,CAACG,eAAR,CAAwBP,QAD5B,GADF,cAIE,UAAG,SAAS,CAAC,oBAAb,4LAJF,cAOE,YAAK,SAAS,CAAC,oBAAf,UACGpF,MAAM,CAAC,GAAI8F,CAAAA,IAAJ,CAASN,OAAO,CAACO,IAAR,CAAaC,OAAb,CAAuB,IAAhC,CAAD,CAAN,CACEC,OADF,GAEEC,OAFF,EADH,EAPF,GADD,cAeC,oCACE,aAAK,SAAS,CAAC,eAAf,eACIV,OAAO,CAACG,eAAR,CAAwBP,QAD5B,GADF,cAIE,UAAG,SAAS,CAAC,eAAb,4LAJF,cAOE,YAAK,SAAS,CAAC,eAAf,UACGpF,MAAM,CAAC,GAAI8F,CAAAA,IAAJ,CAASN,OAAO,CAACO,IAAR,CAAaC,OAAb,CAAuB,IAAhC,CAAD,CAAN,CACEC,OADF,GAEEC,OAFF,EADH,EAPF,GA/BJ,GADF,EAAUT,KAAV,CADF,CAkDD,CAnDA,CADH,EADF,EADD,CAyDG,IAlEN,GADG,CAqED,IAtFN,cAwFE,KAAC,gBAAD,EAAkB,OAAO,CAAEtC,cAA3B,EAxFF,cAyFE,MAAC,WAAD,EAAa,EAAE,CAAC,iBAAhB,CAAkC,MAAM,CAAErC,MAA1C,CAAkD,MAAM,KAAxD,wBACE,MAAC,YAAD,EAAc,IAAI,KAAlB,CAAmB,SAAS,CAAC,YAA7B,wBACE,KAAC,UAAD,wBACE,MAAC,WAAD,yBACE,KAAC,iBAAD,EAAmB,GAAG,KAAtB,CAAuB,KAAK,KAA5B,4CADF,cAIE,MAAC,eAAD,EAAiB,SAAS,CAAC,gCAA3B,wBACE,KAAC,eAAD,EAAiB,IAAI,CAAC,OAAtB,sFADF,cAEE,KAAC,eAAD,EAAiB,IAAI,CAAC,eAAtB,0EAFF,GAJF,GADF,EADF,cAcE,KAAC,UAAD,wBACE,KAAC,GAAD,CAAK,IAAL,EAAU,IAAI,CAAC,UAAf,kGADF,EAdF,cAiBE,KAAC,UAAD,wBACE,MAAC,WAAD,yBACE,KAAC,iBAAD,EAAmB,GAAG,KAAtB,CAAuB,KAAK,KAA5B,oEADF,cAIE,MAAC,eAAD,EAAiB,SAAS,CAAC,gCAA3B,wBACE,KAAC,eAAD,EAAiB,IAAI,CAAC,UAAtB,kGADF,cAIE,KAAC,eAAD,EAAiB,IAAI,CAAC,OAAtB,gLAJF,GAJF,GADF,EAjBF,cAgCE,KAAC,UAAD,wBACE,KAAC,GAAD,CAAK,IAAL,EAAU,IAAI,CAAC,aAAf,kDADF,EAhCF,GADF,cAqCE,MAAC,YAAD,EAAc,KAAK,KAAnB,wBACE,KAAC,UAAD,wBACE,YAAK,SAAS,CAAC,OAAf,uBACE,cACE,SAAS,CAAC,iBADZ,CAEE,IAAI,CAAC,MAFP,CAGE,WAAW,CAAC,0KAHd,CAIE,aAAW,QAJb,CAKE,KAAK,CAAEE,MALT,CAME,QAAQ,CAAE,kBAACmF,CAAD,CAAO,CACflF,SAAS,CAACkF,CAAC,CAACC,MAAF,CAASC,KAAV,CAAT,CACAjG,KAAK,CAACkG,eAAN,CAAsB,IAAtB,EACD,CATH,EADF,EADF,EADF,cAgBE,eAAQ,OAAO,CAAE,yBAAM5C,CAAAA,YAAY,EAAlB,EAAjB,CAAuC,SAAS,CAAC,YAAjD,4CAhBF,CAsBGrD,IAAI,cACH,KAAC,UAAD,wBACE,MAAC,WAAD,yBACE,KAAC,iBAAD,EAAmB,GAAG,KAAtB,CAAuB,SAAS,CAAC,WAAjC,uBACE,aACE,SAAS,CAAC,aADZ,CAEE,OAAO,CAAE,yBAAM+C,CAAAA,eAAe,EAArB,EAFX,wBAIE,YACE,GAAG,CAAC,uBADN,CAEE,SAAS,CAAC,WAFZ,EAJF,CAQGxC,OAAO,CAAG,IAAH,CAAUwB,mBAAmB,CAAG,IAAH,CAAUF,aAAa,CAAG,IAAH,cAC1D,aAAM,SAAS,CAAC,OAAhB,UAAyBR,SAAS,CAAC2B,MAAnC,EATJ,GADF,EADF,CAgBGzB,IAAI,CAACyB,MAAL,EAAe,CAAf,cACC,KAAC,eAAD,EAAiB,SAAS,CAAC,oCAA3B,uBACE,YAAK,SAAS,CAAC,cAAf,UACGzB,IAAI,CAAC2D,GAAL,CAAS,SAACC,OAAD,CAAUC,KAAV,CAAoB,CAC5B,mBACE,kCACE,MAAC,eAAD,EACE,SAAS,CAAC,gBADZ,CAEE,IAAI,mBAAaD,OAAO,CAACE,MAArB,CAFN,CAGE,OAAO,CAAE,yBAAMlC,CAAAA,cAAc,CAACgC,OAAO,CAACjC,GAAT,CAApB,EAHX,WAKGiC,OAAO,CAACG,eAAR,CAAwBN,QAAxB,cACC,YACE,SAAS,CAAC,8BADZ,CAEE,GAAG,WAAKG,OAAO,CAACG,eAAR,CAAwBN,QAAxB,CAAiCO,GAAtC,CAFL,EADD,cAMC,YACE,SAAS,CAAC,6BADZ,CAEE,GAAG,CAAC,kBAFN,EAXJ,CAgBGJ,OAAO,CAACK,IAAR,cACC,oCACE,aAAK,SAAS,CAAC,oBAAf,eACIL,OAAO,CAACG,eAAR,CAAwBP,QAD5B,GADF,cAIE,UAAG,SAAS,CAAC,oBAAb,4LAJF,cAOE,YAAK,SAAS,CAAC,oBAAf,UACGpF,MAAM,CACL,GAAI8F,CAAAA,IAAJ,CAASN,OAAO,CAACO,IAAR,CAAaC,OAAb,CAAuB,IAAhC,CADK,CAAN,CAGEC,OAHF,GAIEC,OAJF,EADH,EAPF,GADD,cAiBC,oCACE,aAAK,SAAS,CAAC,eAAf,eACIV,OAAO,CAACG,eAAR,CAAwBP,QAD5B,GADF,cAIE,UAAG,SAAS,CAAC,eAAb,4LAJF,cAOE,YAAK,SAAS,CAAC,eAAf,UACGpF,MAAM,CACL,GAAI8F,CAAAA,IAAJ,CAASN,OAAO,CAACO,IAAR,CAAaC,OAAb,CAAuB,IAAhC,CADK,CAAN,CAGEC,OAHF,GAIEC,OAJF,EADH,EAPF,GAjCJ,GADF,EAAUT,KAAV,CADF,CAsDD,CAvDA,CADH,EADF,EADD,CA6DG,IA7EN,GADF,EADG,CAkFD,IAxGN,cA2GE,KAAC,UAAD,WACGpF,IAAI,cACH,MAAC,WAAD,yBACE,KAAC,iBAAD,EAAmB,GAAG,KAAtB,CAAuB,SAAS,CAAC,WAAjC,uBACE,YACE,SAAS,CAAC,aADZ,CAEE,OAAO,CAAE,yBAAM+C,CAAAA,eAAe,EAArB,EAFX,uBAIE,UAAG,SAAS,CAAC,kBAAb,EAJF,EADF,EADF,cASE,KAAC,eAAD,EAAiB,SAAS,CAAC,uCAA3B,uBACE,aAAK,SAAS,CAAC,iBAAf,wBACE,MAAC,eAAD,EAAiB,IAAI,oBAAc/C,IAAI,CAACkD,GAAnB,CAArB,WACG/C,YAAY,cACX,YACE,SAAS,CAAC,wBADZ,CAEE,GAAG,WAAKA,YAAY,CAACoF,GAAlB,CAFL,EADW,cAMX,YACE,SAAS,CAAC,wBADZ,CAEE,GAAG,CAAE,kBAFP,EAPJ,cAYE,WAAG,SAAS,CAAC,cAAb,eAA8BtF,WAA9B,GAZF,cAaE,UAAG,SAAS,CAAC,6BAAb,4FAbF,GADF,cAmBE,YAAK,SAAS,CAAC,kBAAf,EAnBF,cAoBE,KAAC,eAAD,EAAiB,IAAI,CAAC,eAAtB,wGApBF,cAuBE,YAAK,SAAS,CAAC,UAAf,EAvBF,cAwBE,KAAC,eAAD,EAAiB,IAAI,CAAC,QAAtB,CAA+B,OAAO,CAAEsC,MAAxC,0EAxBF,GADF,EATF,GADG,cA0CH,KAAC,GAAD,CAAK,IAAL,EAAU,IAAI,CAAC,QAAf,CAAwB,SAAS,CAAC,WAAlC,gFA3CJ,EA3GF,cA2JE,KAAC,UAAD,EAAY,SAAS,CAAC,aAAtB,UACGvC,IAAI,cACH,MAAC,WAAD,yBACE,KAAC,iBAAD,EACE,GAAG,KADL,CAEE,KAAK,KAFP,CAGE,IAAI,KAHN,CAIE,SAAS,CAAC,uBAJZ,UAMGC,WANH,EADF,cASE,MAAC,eAAD,EACE,SAAS,CAAC,kCADZ,CAEE,KAAK,KAFP,wBAIE,KAAC,eAAD,EAAiB,IAAI,oBAAcD,IAAI,CAACkD,GAAnB,CAArB,4FAJF,cAOE,KAAC,eAAD,EAAiB,IAAI,CAAC,eAAtB,wGAPF,cAUE,YAAK,SAAS,CAAC,UAAf,EAVF,cAWE,KAAC,eAAD,EAAiB,IAAI,CAAC,QAAtB,CAA+B,OAAO,CAAEX,MAAxC,0EAXF,GATF,GADG,cA2BH,KAAC,GAAD,CAAK,IAAL,EAAU,IAAI,CAAC,QAAf,gFA5BJ,EA3JF,GArCF,GAzFF,GADF,CA4TGvC,IAAI,cACH,aAAK,SAAS,CAAC,IAAf,WACGe,UAAU,CACPA,UAAU,CAACmE,GAAX,CAAe,SAAC1B,GAAD,CAAS,CACtB,GAAI0C,CAAAA,mBAAmB,WAAM1C,GAAG,CAACC,IAAV,aAAkBD,GAAG,CAACI,OAAtB,CAAvB,CACA,GAAIuC,CAAAA,kBAAkB,WAAM3C,GAAG,CAACK,aAAV,CAAtB,CACAnB,OAAO,CAACC,GAAR,CAAYwD,kBAAZ,EACA7D,CAAC,GACD,mBACE,YAAK,SAAS,CAAC,eAAf,UACGA,CAAC,EAAI,EAAL,cACC,uBACG,GADH,CAEGb,IAAI,CACH1B,KAAK,CAACqG,YAAN,cACE,eACE,SAAS,CAAC,YADZ,CAEE,OAAO,CAAE,yBACPnC,CAAAA,oBAAoB,CAACiC,mBAAD,CADb,EAFX,uBAME,uBACG,GADH,CAEG1C,GAAG,CAACC,IAFP,KAEcD,GAAG,CAACI,OAFlB,GANF,EADF,CAYI,IAbD,CAcDzB,aAAa,CACfpC,KAAK,CAACqG,YAAN,cACE,eACE,SAAS,CAAC,YADZ,CAEE,OAAO,CAAE,yBACPnC,CAAAA,oBAAoB,CAACkC,kBAAD,CADb,EAFX,uBAME,2BAAO3C,GAAG,CAACK,aAAX,GANF,EADF,CASI,IAVW,CAWb,IA3BN,GADD,CA8BG,IA/BN,EADF,CAmCD,CAxCD,CADO,CA0CP,IA3CN,CA4CG9C,UAAU,CACThB,KAAK,CAACqG,YAAN,cACE,aAAK,SAAS,CAAC,gBAAf,CAAgC,OAAO,CAAE,yBAAM/C,CAAAA,YAAY,EAAlB,EAAzC,6CACS1C,MADT,GADF,CAII,IALK,CAMP,IAlDN,GADG,cAsDH,aAAK,SAAS,CAAC,YAAf,WACGI,UAAU,CACPA,UAAU,CAACmE,GAAX,CAAe,SAAC1B,GAAD,CAAS,CACtB,GAAI0C,CAAAA,mBAAmB,WAAM1C,GAAG,CAACC,IAAV,aAAkBD,GAAG,CAACI,OAAtB,CAAvB,CACA,GAAIuC,CAAAA,kBAAkB,WAAM3C,GAAG,CAACK,aAAV,CAAtB,CACAnB,OAAO,CAACC,GAAR,CAAYwD,kBAAZ,EACA7D,CAAC,GACD,mBACE,YAAK,SAAS,CAAC,eAAf,UACGA,CAAC,EAAI,EAAL,cACC,uBACG,GADH,CAEGb,IAAI,CACH1B,KAAK,CAACqG,YAAN,cACE,eACE,SAAS,CAAC,YADZ,CAEE,OAAO,CAAE,yBACPnC,CAAAA,oBAAoB,CAACiC,mBAAD,CADb,EAFX,uBAME,uBACG,GADH,CAEG1C,GAAG,CAACC,IAFP,KAEcD,GAAG,CAACI,OAFlB,GANF,EADF,CAYI,IAbD,CAcDzB,aAAa,CACfpC,KAAK,CAACqG,YAAN,cACE,eACE,SAAS,CAAC,YADZ,CAEE,OAAO,CAAE,yBACPnC,CAAAA,oBAAoB,CAACkC,kBAAD,CADb,EAFX,uBAME,2BAAO3C,GAAG,CAACK,aAAX,GANF,EADF,CASI,IAVW,CAWb,IA3BN,GADD,CA8BG,IA/BN,EADF,CAmCD,CAxCD,CADO,CA0CP,IA3CN,CA4CG9C,UAAU,CACThB,KAAK,CAACqG,YAAN,cACE,aAAK,SAAS,CAAC,gBAAf,CAAgC,OAAO,CAAE,yBAAM/C,CAAAA,YAAY,EAAlB,EAAzC,6CACS1C,MADT,GADF,CAII,IALK,CAMP,IAlDN,GAlXJ,GADF,CA0aD,CAjnBD,CAmnBA,cAAeb,CAAAA,UAAf","sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\r\nimport {\r\n  MDBNavbar,\r\n  MDBNavbarBrand,\r\n  MDBNavbarNav,\r\n  MDBNavItem,\r\n  MDBNavbarToggler,\r\n  MDBCollapse,\r\n  MDBDropdown,\r\n  MDBDropdownToggle,\r\n  MDBDropdownMenu,\r\n  MDBDropdownItem,\r\n  MDBBtn,\r\n} from \"mdbreact\";\r\nimport { BrowserRouter as Router, useHistory } from \"react-router-dom\";\r\nimport \"./navnew.css\";\r\nimport { auth } from \"../Frontfirebase\";\r\nimport usercontext from \"../context/usercontext\";\r\nimport axios from \"axios\";\r\nimport * as moment from \"moment\";\r\nimport \"moment/locale/th\";\r\nimport { Nav } from \"react-bootstrap\";\r\nimport Cliploading from \"./clipLoader\";\r\nconst NavbarPage = (props) => {\r\n  var { user } = useContext(usercontext);\r\n  const [displayname, setDisplayname] = useState();\r\n  const [photoProfile, setPhotoProfile] = useState();\r\n  const [admin, setAdmin] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [isOpen, setIsopen] = useState(false);\r\n  const [search, Setsearch] = useState();\r\n  const [searching, Setsearching] = useState();\r\n  const [lastsearch, Setlastsearch] = useState();\r\n  const [refresh, Setrefresh] = useState();\r\n  const [allpost, Setallpost] = useState();\r\n  const [countNoti, setCountNoti] = useState([]);\r\n  const [noti, setNoti] = useState([]);\r\n  const [haha, Sethaha] = useState(false);\r\n  const [error, Seterror] = useState();\r\n  const [hideCountNoti, SetHideCountNoti] = useState(false);\r\n  const [hideCountNotiAlways, SetHideCountNotiAlways] = useState(false);\r\n  const [reFreshNoti, setReFreshNoti] = useState(false);\r\n  const [accountNumber, setAccountNumber] = useState(false);\r\n\r\n  let history = useHistory();\r\n  let i = 0; //forsearch\r\n  const logout = () => {\r\n    auth\r\n      .signOut()\r\n      .then(() => {\r\n        console.log(\"Signout\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  const toggleCollapse = () => {\r\n    setIsopen(!isOpen);\r\n  };\r\n  const notiChangeClick = async () => {\r\n    if (countNoti.length != 0) {\r\n      SetHideCountNoti(true);\r\n      await axios.post(\r\n        `https://monkeyfruad01.herokuapp.com/post/notichangeclick/${user.uid}`,\r\n        { countNoti }\r\n      );\r\n    }\r\n  };\r\n  const notiChangeRead = async (notiId) => {\r\n    await axios.post(\r\n      `https://monkeyfruad01.herokuapp.com/post/notificationread/${notiId}`\r\n    );\r\n  };\r\n  const handlesearch = async () => {\r\n    try {\r\n      if (search) {\r\n        const getdata = allpost.filter((doc) => {\r\n          return (\r\n            doc.name.toLowerCase().includes(search.toLowerCase()) ||\r\n            doc.surname.toLowerCase().includes(search.toLowerCase()) ||\r\n            doc.accountnumber.includes(search) ||\r\n            (doc.name.toLowerCase() + \" \" + doc.surname.toLowerCase()).includes(\r\n              search.toLowerCase()\r\n            )\r\n          );\r\n        });\r\n        Setsearch(\"\");\r\n        if (getdata) {\r\n          console.log(getdata);\r\n          history.push({\r\n            pathname: \"/entersearch\",\r\n            search: \"?are you ok\",\r\n            state: {\r\n              getdata,\r\n              search,\r\n            },\r\n          });\r\n        }\r\n        await axios.post(`https://monkeyfruad01.herokuapp.com/post/search`, {\r\n          search,\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  const handleSearchDropdown = async (search) => {\r\n    try {\r\n      console.log(search);\r\n      await axios.post(`https://monkeyfruad01.herokuapp.com/post/search`, {\r\n        search,\r\n      });\r\n      history.push({\r\n        pathname: `/thief/post/${search}`,\r\n        search: \"?are you ok\",\r\n      });\r\n      window.location.reload(true);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  const initSearch = async () => {\r\n    try {\r\n      const getallthief = await axios.get(\r\n        `https://monkeyfruad01.herokuapp.com/thief/thief`\r\n      );\r\n      Setsearching(getallthief.data.item);\r\n      const getallpost = await axios.get(\r\n        `https://monkeyfruad01.herokuapp.com/post/post`\r\n      );\r\n      Setallpost(getallpost.data.item);\r\n      const getthief = getallthief.data.item;\r\n      if (search) {\r\n        Seterror();\r\n        Setlastsearch(\r\n          getthief.filter((doc) => {\r\n            if (\r\n              (\r\n                doc.name.toLowerCase() +\r\n                \" \" +\r\n                doc.surname.toLowerCase()\r\n              ).startsWith(search.toLowerCase())\r\n            ) {\r\n              Sethaha(true);\r\n            }\r\n            if (doc.accountnumber.startsWith(search)) {\r\n              setAccountNumber(true);\r\n            }\r\n            if (doc.name.toLowerCase().startsWith(search.toLowerCase())) {\r\n              Sethaha(true);\r\n            }\r\n            if (doc.surname.toLowerCase().startsWith(search.toLowerCase())) {\r\n              Sethaha(true);\r\n            }\r\n            return (\r\n              doc.name.toLowerCase().startsWith(search.toLowerCase()) ||\r\n              doc.surname.toLowerCase().startsWith(search.toLowerCase()) ||\r\n              doc.accountnumber.startsWith(search) ||\r\n              (\r\n                doc.name.toLowerCase() +\r\n                \" \" +\r\n                doc.surname.toLowerCase()\r\n              ).startsWith(search.toLowerCase())\r\n            );\r\n          })\r\n        );\r\n      }\r\n      if (!search) {\r\n        Setlastsearch();\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  console.log(lastsearch);\r\n  const initUser = async () => {\r\n    await axios\r\n      .post(\"https://monkeyfruad01.herokuapp.com/user/session\", {\r\n        user: user,\r\n      })\r\n      .then((result) => {\r\n        setDisplayname(result.data.data.username);\r\n        setPhotoProfile(result.data.data.photoURL);\r\n      });\r\n    await axios\r\n      .post(\r\n        `https://monkeyfruad01.herokuapp.com/post/getnotification/${user.uid}`\r\n      )\r\n      .then((result) => {\r\n        setNoti(result.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n    await axios\r\n      .post(\r\n        `https://monkeyfruad01.herokuapp.com/post/getnoticlickfalse/${user.uid}`\r\n      )\r\n      .then((result) => {\r\n        if (result.data[0] === undefined) {\r\n          SetHideCountNotiAlways(true);\r\n        } else {\r\n          SetHideCountNoti(false);\r\n          SetHideCountNotiAlways(false);\r\n          setCountNoti(result.data);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  useEffect(async () => {\r\n    if (user) {\r\n      await initUser();\r\n      setLoading(false);\r\n    }\r\n    initSearch();\r\n    setLoading(false);\r\n    // setTimeout(() => {\r\n    //   setReFreshNoti(!reFreshNoti);\r\n    // }, 2000);\r\n  }, [user, search, hideCountNoti, reFreshNoti]);\r\n  return (\r\n    <Router>\r\n      <MDBNavbar light expand=\"md\" className=\"navbarnew\">\r\n        <Nav.Link href=\"/\">\r\n          <img src=\"/img/logo-mf.png\" className=\"logo-nav\" />\r\n        </Nav.Link>\r\n        {/* {props.SetisOpen && props.SetisOpen ? (\r\n          \r\n          \r\n          <MDBBtn\r\n            className=\"btnslide\"\r\n            color=\"default-color\"\r\n            onClick={() => props.SetisOpen(!props.isOpen)}\r\n          >\r\n            <i class=\"fa fa-filter\"></i>\r\n          </MDBBtn>\r\n\r\n\r\n        ) : null} */}\r\n        {user ? (\r\n          <MDBDropdown>\r\n            <MDBDropdownToggle nav className=\"noti-mobile\">\r\n              <div className=\"navbar-noti\" onClick={() => notiChangeClick()}>\r\n                <img src=\"/img/notification.png\" className=\"noti-logo\"></img>\r\n                {loading ? null : hideCountNotiAlways ? null : hideCountNoti ? null : (\r\n                  <span className=\"badge\">{countNoti.length}</span>\r\n                )}\r\n              </div>\r\n            </MDBDropdownToggle>\r\n            {noti.length != 0 ? (\r\n              <MDBDropdownMenu className=\"dropdown-default dropdown-top-noti\">\r\n                <div className=\"box-nav-noti\">\r\n                  {noti.map((element, index) => {\r\n                    return (\r\n                      <div key={index}>\r\n                        <MDBDropdownItem\r\n                          className=\"hover-noti-nav\"\r\n                          href={`/mypost/${element.postid}`}\r\n                          onClick={() => notiChangeRead(element.uid)}\r\n                        >\r\n                          {element.userCommentData.photoURL ? (\r\n                            <img\r\n                              className=\"img-circle  profile-nav-noti\"\r\n                              src={`${element.userCommentData.photoURL.url}`}\r\n                            />\r\n                          ) : (\r\n                            <img\r\n                              className=\"img-circle profile-nav-noti\"\r\n                              src=\"/img/profile.png\"\r\n                            />\r\n                          )}\r\n                          {element.read ? (\r\n                            <div>\r\n                              <div className=\"name-nav-noti-read\">\r\n                                @{element.userCommentData.username}\r\n                              </div>\r\n                              <p className=\"text-nav-noti-read\">\r\n                                แสดงความคิดเห็นต่อโพสต์ของคุณ\r\n                              </p>\r\n                              <div className=\"time-nav-noti-read\">\r\n                                {moment(new Date(element.date.seconds * 1000))\r\n                                  .startOf()\r\n                                  .fromNow()}\r\n                              </div>\r\n                            </div>\r\n                          ) : (\r\n                            <div>\r\n                              <div className=\"name-nav-noti\">\r\n                                @{element.userCommentData.username}\r\n                              </div>\r\n                              <p className=\"text-nav-noti\">\r\n                                แสดงความคิดเห็นต่อโพสต์ของคุณ\r\n                              </p>\r\n                              <div className=\"time-nav-noti\">\r\n                                {moment(new Date(element.date.seconds * 1000))\r\n                                  .startOf()\r\n                                  .fromNow()}\r\n                              </div>\r\n                            </div>\r\n                          )}\r\n                        </MDBDropdownItem>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </MDBDropdownMenu>\r\n            ) : null}\r\n          </MDBDropdown>\r\n        ) : null}\r\n\r\n        <MDBNavbarToggler onClick={toggleCollapse} />\r\n        <MDBCollapse id=\"navbarCollapse3\" isOpen={isOpen} navbar>\r\n          <MDBNavbarNav left className=\"center-nav\">\r\n            <MDBNavItem>\r\n              <MDBDropdown>\r\n                <MDBDropdownToggle nav caret>\r\n                  โพสต์\r\n                </MDBDropdownToggle>\r\n                <MDBDropdownMenu className=\"dropdown-default dropdown-top1\">\r\n                  <MDBDropdownItem href=\"/post\">โพสต์ทั้งหมด</MDBDropdownItem>\r\n                  <MDBDropdownItem href=\"/linkruleshow\">\r\n                    สร้างโพสต์\r\n                  </MDBDropdownItem>\r\n                </MDBDropdownMenu>\r\n              </MDBDropdown>\r\n            </MDBNavItem>\r\n            <MDBNavItem>\r\n              <Nav.Link href=\"/ranking\">จัดอันดับคนโกง</Nav.Link>\r\n            </MDBNavItem>\r\n            <MDBNavItem>\r\n              <MDBDropdown>\r\n                <MDBDropdownToggle nav caret>\r\n                  ช่วยเหลือ\r\n                </MDBDropdownToggle>\r\n                <MDBDropdownMenu className=\"dropdown-default dropdown-top2\">\r\n                  <MDBDropdownItem href=\"/prevent\">\r\n                    กลโกงที่พบบ่อย\r\n                  </MDBDropdownItem>\r\n                  <MDBDropdownItem href=\"/help\">\r\n                    หน่วยงานที่ให้ความช่วยเหลือ\r\n                  </MDBDropdownItem>\r\n                </MDBDropdownMenu>\r\n              </MDBDropdown>\r\n            </MDBNavItem>\r\n            <MDBNavItem>\r\n              <Nav.Link href=\"/contractus\">ติดต่อ</Nav.Link>\r\n            </MDBNavItem>\r\n          </MDBNavbarNav>\r\n          <MDBNavbarNav right>\r\n            <MDBNavItem>\r\n              <div className=\" my-0\">\r\n                <input\r\n                  className=\"box-nav mr-sm-2\"\r\n                  type=\"text\"\r\n                  placeholder=\"ค้นหาด้วยชื่อหรือเลขที่บัญชี\"\r\n                  aria-label=\"Search\"\r\n                  value={search}\r\n                  onChange={(e) => {\r\n                    Setsearch(e.target.value);\r\n                    props.SetshowDropdown(true);\r\n                  }}\r\n                />\r\n              </div>\r\n            </MDBNavItem>\r\n            <button onClick={() => handlesearch()} className=\"button-nav\">\r\n              ค้นหา\r\n            </button>\r\n\r\n            {/* Notification */}\r\n\r\n            {user ? (\r\n              <MDBNavItem>\r\n                <MDBDropdown>\r\n                  <MDBDropdownToggle nav className=\"noti-comp\">\r\n                    <div\r\n                      className=\"navbar-noti\"\r\n                      onClick={() => notiChangeClick()}\r\n                    >\r\n                      <img\r\n                        src=\"/img/notification.png\"\r\n                        className=\"noti-logo\"\r\n                      ></img>\r\n                      {loading ? null : hideCountNotiAlways ? null : hideCountNoti ? null : (\r\n                        <span className=\"badge\">{countNoti.length}</span>\r\n                      )}\r\n                    </div>\r\n                  </MDBDropdownToggle>\r\n\r\n                  {noti.length != 0 ? (\r\n                    <MDBDropdownMenu className=\"dropdown-default dropdown-top-noti\">\r\n                      <div className=\"box-nav-noti\">\r\n                        {noti.map((element, index) => {\r\n                          return (\r\n                            <div key={index}>\r\n                              <MDBDropdownItem\r\n                                className=\"hover-noti-nav\"\r\n                                href={`/mypost/${element.postid}`}\r\n                                onClick={() => notiChangeRead(element.uid)}\r\n                              >\r\n                                {element.userCommentData.photoURL ? (\r\n                                  <img\r\n                                    className=\"img-circle  profile-nav-noti\"\r\n                                    src={`${element.userCommentData.photoURL.url}`}\r\n                                  />\r\n                                ) : (\r\n                                  <img\r\n                                    className=\"img-circle profile-nav-noti\"\r\n                                    src=\"/img/profile.png\"\r\n                                  />\r\n                                )}\r\n                                {element.read ? (\r\n                                  <div>\r\n                                    <div className=\"name-nav-noti-read\">\r\n                                      @{element.userCommentData.username}\r\n                                    </div>\r\n                                    <p className=\"text-nav-noti-read\">\r\n                                      แสดงความคิดเห็นต่อโพสต์ของคุณ\r\n                                    </p>\r\n                                    <div className=\"time-nav-noti-read\">\r\n                                      {moment(\r\n                                        new Date(element.date.seconds * 1000)\r\n                                      )\r\n                                        .startOf()\r\n                                        .fromNow()}\r\n                                    </div>\r\n                                  </div>\r\n                                ) : (\r\n                                  <div>\r\n                                    <div className=\"name-nav-noti\">\r\n                                      @{element.userCommentData.username}\r\n                                    </div>\r\n                                    <p className=\"text-nav-noti\">\r\n                                      แสดงความคิดเห็นต่อโพสต์ของคุณ\r\n                                    </p>\r\n                                    <div className=\"time-nav-noti\">\r\n                                      {moment(\r\n                                        new Date(element.date.seconds * 1000)\r\n                                      )\r\n                                        .startOf()\r\n                                        .fromNow()}\r\n                                    </div>\r\n                                  </div>\r\n                                )}\r\n                              </MDBDropdownItem>\r\n                            </div>\r\n                          );\r\n                        })}\r\n                      </div>\r\n                    </MDBDropdownMenu>\r\n                  ) : null}\r\n                </MDBDropdown>\r\n              </MDBNavItem>\r\n            ) : null}\r\n            {/* Notification */}\r\n\r\n            <MDBNavItem>\r\n              {user ? (\r\n                <MDBDropdown>\r\n                  <MDBDropdownToggle nav className=\"noti-comp\">\r\n                    <div\r\n                      className=\"navbar-noti\"\r\n                      onClick={() => notiChangeClick()}\r\n                    >\r\n                      <i className=\"fas fa-sort-down\"></i>\r\n                    </div>\r\n                  </MDBDropdownToggle>\r\n                  <MDBDropdownMenu className=\"dropdown-default dropdown-top-profile\">\r\n                    <div className=\"box-nav-profile\">\r\n                      <MDBDropdownItem href={`/profile/${user.uid}`}>\r\n                        {photoProfile ? (\r\n                          <img\r\n                            className=\"img-circle-profile-nav\"\r\n                            src={`${photoProfile.url}`}\r\n                          />\r\n                        ) : (\r\n                          <img\r\n                            className=\"img-circle-profile-nav\"\r\n                            src={\"/img/profile.png\"}\r\n                          />\r\n                        )}\r\n                        <p className=\"username-nav\">@{displayname}</p>\r\n                        <p className=\"username-nav-settingprofile\">\r\n                          จัดการโปรไฟล์\r\n                        </p>\r\n                      </MDBDropdownItem>\r\n\r\n                      <div className=\"line-profile-nav\"></div>\r\n                      <MDBDropdownItem href=\"/post/history\">\r\n                        ประวัติการโพสต์\r\n                      </MDBDropdownItem>\r\n                      <div className=\"line-nav\"></div>\r\n                      <MDBDropdownItem href=\"/login\" onClick={logout}>\r\n                        ออกจากระบบ\r\n                      </MDBDropdownItem>\r\n                    </div>\r\n                  </MDBDropdownMenu>\r\n                </MDBDropdown>\r\n              ) : (\r\n                <Nav.Link href=\"/login\" className=\"noti-comp\">\r\n                  เข้าสู่ระบบ\r\n                </Nav.Link>\r\n              )}\r\n            </MDBNavItem>\r\n            <MDBNavItem className=\"noti-mobile\">\r\n              {user ? (\r\n                <MDBDropdown>\r\n                  <MDBDropdownToggle\r\n                    nav\r\n                    caret\r\n                    left\r\n                    className=\"dropdown-username-nav\"\r\n                  >\r\n                    {displayname}\r\n                  </MDBDropdownToggle>\r\n                  <MDBDropdownMenu\r\n                    className=\"dropdown-default dropdown-bottom\"\r\n                    right\r\n                  >\r\n                    <MDBDropdownItem href={`/profile/${user.uid}`}>\r\n                      จัดการโปรไฟล์\r\n                    </MDBDropdownItem>\r\n                    <MDBDropdownItem href=\"/post/history\">\r\n                      ประวัติการโพสต์\r\n                    </MDBDropdownItem>\r\n                    <div className=\"line-nav\"></div>\r\n                    <MDBDropdownItem href=\"/login\" onClick={logout}>\r\n                      ออกจากระบบ\r\n                    </MDBDropdownItem>\r\n                  </MDBDropdownMenu>\r\n                </MDBDropdown>\r\n              ) : (\r\n                <Nav.Link href=\"/login\">เข้าสู่ระบบ</Nav.Link>\r\n              )}\r\n            </MDBNavItem>\r\n          </MDBNavbarNav>\r\n        </MDBCollapse>\r\n      </MDBNavbar>\r\n      {user ? (\r\n        <div className=\"gg\">\r\n          {lastsearch\r\n            ? lastsearch.map((doc) => {\r\n                let thiefNameAndSurname = `${doc.name} ${doc.surname}`;\r\n                let thiefAccountNumber = `${doc.accountnumber}`;\r\n                console.log(thiefAccountNumber);\r\n                i++;\r\n                return (\r\n                  <div className=\"boxsearch-nav\">\r\n                    {i <= 10 ? (\r\n                      <div>\r\n                        {\" \"}\r\n                        {haha ? (\r\n                          props.showDropdown ? (\r\n                            <button\r\n                              className=\"search-nav\"\r\n                              onClick={() =>\r\n                                handleSearchDropdown(thiefNameAndSurname)\r\n                              }\r\n                            >\r\n                              <div>\r\n                                {\" \"}\r\n                                {doc.name} {doc.surname}\r\n                              </div>\r\n                            </button>\r\n                          ) : null\r\n                        ) : accountNumber ? (\r\n                          props.showDropdown ? (\r\n                            <button\r\n                              className=\"search-nav\"\r\n                              onClick={() =>\r\n                                handleSearchDropdown(thiefAccountNumber)\r\n                              }\r\n                            >\r\n                              <div> {doc.accountnumber}</div>\r\n                            </button>\r\n                          ) : null\r\n                        ) : null}\r\n                      </div>\r\n                    ) : null}\r\n                  </div>\r\n                );\r\n              })\r\n            : null}\r\n          {lastsearch ? (\r\n            props.showDropdown ? (\r\n              <div className=\"dropsearch-nav\" onClick={() => handlesearch()}>\r\n                ค้นหา {search}\r\n              </div>\r\n            ) : null\r\n          ) : null}\r\n        </div>\r\n      ) : (\r\n        <div className=\"gg-nologin\">\r\n          {lastsearch\r\n            ? lastsearch.map((doc) => {\r\n                let thiefNameAndSurname = `${doc.name} ${doc.surname}`;\r\n                let thiefAccountNumber = `${doc.accountnumber}`;\r\n                console.log(thiefAccountNumber);\r\n                i++;\r\n                return (\r\n                  <div className=\"boxsearch-nav\">\r\n                    {i <= 10 ? (\r\n                      <div>\r\n                        {\" \"}\r\n                        {haha ? (\r\n                          props.showDropdown ? (\r\n                            <button\r\n                              className=\"search-nav\"\r\n                              onClick={() =>\r\n                                handleSearchDropdown(thiefNameAndSurname)\r\n                              }\r\n                            >\r\n                              <div>\r\n                                {\" \"}\r\n                                {doc.name} {doc.surname}\r\n                              </div>\r\n                            </button>\r\n                          ) : null\r\n                        ) : accountNumber ? (\r\n                          props.showDropdown ? (\r\n                            <button\r\n                              className=\"search-nav\"\r\n                              onClick={() =>\r\n                                handleSearchDropdown(thiefAccountNumber)\r\n                              }\r\n                            >\r\n                              <div> {doc.accountnumber}</div>\r\n                            </button>\r\n                          ) : null\r\n                        ) : null}\r\n                      </div>\r\n                    ) : null}\r\n                  </div>\r\n                );\r\n              })\r\n            : null}\r\n          {lastsearch ? (\r\n            props.showDropdown ? (\r\n              <div className=\"dropsearch-nav\" onClick={() => handlesearch()}>\r\n                ค้นหา {search}\r\n              </div>\r\n            ) : null\r\n          ) : null}\r\n        </div>\r\n      )}\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default NavbarPage;\r\n"]},"metadata":{},"sourceType":"module"}