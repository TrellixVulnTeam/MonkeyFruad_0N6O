{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"D:/monkeyfruad/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/monkeyfruad/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/monkeyfruad/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useContext}from\"react\";import{useHistory}from\"react-router-dom\";import Axios from\"axios\";import\"../../user/components/commentitemformypost.css\";import Listcomment from\"./listcomment\";import _ from\"lodash\";var _require=require(\"uuid\"),uuidv4=_require.v4;var Commentmypost=function Commentmypost(_ref){var postid=_ref.postid;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),imagesFile=_useState2[0],setImagesFile=_useState2[1];//สร้าง State เพื่อเก็บไฟล์ที่อัพโหลด\nvar _useState3=useState(),_useState4=_slicedToArray(_useState3,2),files=_useState4[0],Setfiles=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),commentmore=_useState6[0],Setcommentmore=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),showcommentall=_useState8[0],Setshowcommentall=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),hidebutton=_useState10[0],Sethidebutton=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),click=_useState12[0],Setclick=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),showdelete=_useState14[0],Setshowdelete=_useState14[1];var _useState15=useState(),_useState16=_slicedToArray(_useState15,2),showedit=_useState16[0],Setshowedit=_useState16[1];var _useState17=useState(),_useState18=_slicedToArray(_useState17,2),data=_useState18[0],Setdata=_useState18[1];var _useState19=useState(),_useState20=_slicedToArray(_useState19,2),error=_useState20[0],Seterror=_useState20[1];var _useState21=useState(\"\"),_useState22=_slicedToArray(_useState21,2),textcomment=_useState22[0],Settextcomment=_useState22[1];var _useState23=useState(),_useState24=_slicedToArray(_useState23,2),photourl=_useState24[0],Setphotourl=_useState24[1];var _useState25=useState(),_useState26=_slicedToArray(_useState25,2),photopublic_id=_useState26[0],Setphotopublic_id=_useState26[1];var _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),loading=_useState28[0],SetLoading=_useState28[1];var history=useHistory();var uuid=uuidv4();var handlemorecomment=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:try{Setshowcommentall(true);Sethidebutton(false);}catch(err){console.log(err);}case 1:case\"end\":return _context.stop();}}},_callee);}));return function handlemorecomment(){return _ref2.apply(this,arguments);};}();var gg=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var getcommentall;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return Axios.get(\"http://localhost:7000/post/commentmore/\".concat(postid));case 3:getcommentall=_context2.sent;Setcommentmore(getcommentall.data.item);_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function gg(){return _ref3.apply(this,arguments);};}();useEffect(function(){gg();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[showcommentall?/*#__PURE__*/_jsxs(\"div\",{children:[\" \",commentmore?commentmore.map(function(commentmore){return/*#__PURE__*/_jsx(Listcomment,{commentmore:commentmore});}):null,\" \"]}):/*#__PURE__*/_jsx(\"div\",{children:commentmore?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Listcomment,{commentmore:commentmore[0]}),\" \",/*#__PURE__*/_jsx(Listcomment,{commentmore:commentmore[1]}),\" \",/*#__PURE__*/_jsx(Listcomment,{commentmore:commentmore[2]}),\" \"]}):null}),commentmore&&commentmore.length>3?/*#__PURE__*/_jsxs(\"div\",{children:[hidebutton?/*#__PURE__*/_jsxs(\"button\",{onClick:handlemorecomment,className:\"postother2\",children:[\"\\u0E14\\u0E39\\u0E2D\\u0E35\\u0E01 \",commentmore.length-3,\" \\u0E04\\u0E27\\u0E32\\u0E21\\u0E04\\u0E34\\u0E14\\u0E40\\u0E2B\\u0E47\\u0E19\"]}):null,\" \"]}):null]});};export default Commentmypost;","map":{"version":3,"sources":["D:/monkeyfruad/frontend/src/admin/components/commentmypost.js"],"names":["React","useEffect","useState","useContext","useHistory","Axios","Listcomment","_","require","uuidv4","v4","Commentmypost","postid","imagesFile","setImagesFile","files","Setfiles","commentmore","Setcommentmore","showcommentall","Setshowcommentall","hidebutton","Sethidebutton","click","Setclick","showdelete","Setshowdelete","showedit","Setshowedit","data","Setdata","error","Seterror","textcomment","Settextcomment","photourl","Setphotourl","photopublic_id","Setphotopublic_id","loading","SetLoading","history","uuid","handlemorecomment","err","console","log","gg","get","getcommentall","item","map","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Axios from \"axios\";\r\nimport \"../../user/components/commentitemformypost.css\";\r\nimport Listcomment from \"./listcomment\";\r\nimport _ from \"lodash\";\r\nconst { v4: uuidv4 } = require(\"uuid\");\r\n\r\nconst Commentmypost = ({ postid }) => {\r\n  const [imagesFile, setImagesFile] = useState([]); //สร้าง State เพื่อเก็บไฟล์ที่อัพโหลด\r\n  const [files, Setfiles] = useState();\r\n  const [commentmore, Setcommentmore] = useState();\r\n  const [showcommentall, Setshowcommentall] = useState();\r\n  const [hidebutton, Sethidebutton] = useState(true);\r\n  const [click, Setclick] = useState();\r\n  const [showdelete, Setshowdelete] = useState();\r\n  const [showedit, Setshowedit] = useState();\r\n  const [data, Setdata] = useState();\r\n  const [error, Seterror] = useState();\r\n  const [textcomment, Settextcomment] = useState(\"\");\r\n  const [photourl, Setphotourl] = useState();\r\n  const [photopublic_id, Setphotopublic_id] = useState();\r\n  const [loading, SetLoading] = useState(false);\r\n\r\n  let history = useHistory();\r\n  let uuid = uuidv4();\r\n\r\n  const handlemorecomment = async () => {\r\n    try {\r\n      Setshowcommentall(true);\r\n      Sethidebutton(false);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const gg = async () => {\r\n    try {\r\n      const getcommentall = await Axios.get(\r\n        `http://localhost:7000/post/commentmore/${postid}`\r\n      );\r\n      Setcommentmore(getcommentall.data.item);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    gg();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      {showcommentall ? (\r\n        <div>\r\n          {\" \"}\r\n          {commentmore\r\n            ? commentmore.map((commentmore) => {\r\n                return (\r\n                  <Listcomment\r\n                    commentmore={commentmore}\r\n                  />\r\n                );\r\n              })\r\n            : null}{\" \"}\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          {commentmore ? (\r\n            <div>\r\n              <Listcomment\r\n                commentmore={commentmore[0]}\r\n              />{\" \"}\r\n              <Listcomment\r\n                commentmore={commentmore[1]}\r\n              />{\" \"}\r\n              <Listcomment\r\n                commentmore={commentmore[2]}\r\n              />{\" \"}\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      )}\r\n\r\n      {commentmore && commentmore.length > 3 ? (\r\n        <div>\r\n          {hidebutton ? (\r\n            <button onClick={handlemorecomment} className=\"postother2\">\r\n              ดูอีก {commentmore.length - 3} ความคิดเห็น\r\n            </button>\r\n          ) : null}{\" \"}\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Commentmypost;\r\n"]},"metadata":{},"sourceType":"module"}