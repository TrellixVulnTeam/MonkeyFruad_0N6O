{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"D:/monkeyfruad/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/monkeyfruad/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/monkeyfruad/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useMemo,useContext}from\"react\";import{useHistory}from\"react-router-dom\";import\"./profile.css\";import Chatbot from\"../components/chatbot\";import axios from\"axios\";import NavbarPage from\"../components/navnew\";import usercontext from\"../context/usercontext\";var Profile=function Profile(){var history=useHistory();var _useContext=useContext(usercontext),user=_useContext.user,setUser=_useContext.setUser;// ที่เก็บ state\nvar _useState=useState(true),_useState2=_slicedToArray(_useState,2),showDropdown=_useState2[0],SetshowDropdown=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),username=_useState4[0],setUsername=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),firstname=_useState6[0],setFirstname=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),surname=_useState8[0],setSurname=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),sex=_useState10[0],setSex=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),phone=_useState12[0],setPhone=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),province=_useState14[0],setProvince=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),imagesProfile=_useState16[0],setImagesProfile=_useState16[1];//สร้าง State เพื่อเก็บรูปโปรไฟล์\nvar _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),photo=_useState18[0],Setphoto=_useState18[1];var _useState19=useState(true),_useState20=_slicedToArray(_useState19,2),loading=_useState20[0],setLoading=_useState20[1];var Hiddendropdown=function Hiddendropdown(){SetshowDropdown(false);};useMemo(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var profiledata;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(\"http://localhost:7000/user/session\",{user:user});case 3:profiledata=_context.sent;setUsername(profiledata.data.data.username);setFirstname(profiledata.data.data.firstname);setSurname(profiledata.data.data.surname);setSex(profiledata.data.data.sex);setPhone(profiledata.data.data.phone);setProvince(profiledata.data.data.province);Setphoto(profiledata.data.data.photoURL);_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 16:setLoading(false);case 17:case\"end\":return _context.stop();}}},_callee,null,[[0,13]]);})),[user]);return loading?\"\":/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return Hiddendropdown();},children:[/*#__PURE__*/_jsx(NavbarPage,{SetshowDropdown:SetshowDropdown,showDropdown:showDropdown}),/*#__PURE__*/_jsx(\"div\",{className:\"container-profile\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"ProfileForm\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"h3 text-center mb-2 font-weight-bold\",children:\"\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E2A\\u0E48\\u0E27\\u0E19\\u0E15\\u0E31\\u0E27\"}),/*#__PURE__*/_jsx(\"div\",{className:\"profile-badformpost-img\",children:photo?/*#__PURE__*/_jsx(\"img\",{className:\"img-circle\",src:\"\".concat(photo.url)}):/*#__PURE__*/_jsx(\"img\",{className:\"img-circle\",src:\"/img/profile.png\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group my-0\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label-form-title-profile\",children:\"Username\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-inside-profile\",children:/*#__PURE__*/_jsx(\"p\",{children:username})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group my-0\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label-form-title-profile\",children:\"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E08\\u0E23\\u0E34\\u0E07\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-inside-profile\",children:/*#__PURE__*/_jsx(\"p\",{children:firstname})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group my-0\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label-form-title-profile\",children:\"\\u0E19\\u0E32\\u0E21\\u0E2A\\u0E01\\u0E38\\u0E25\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-inside-profile\",children:/*#__PURE__*/_jsx(\"p\",{children:surname})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group my-0\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label-form-title-profile\",children:\"\\u0E40\\u0E1E\\u0E28\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-inside-profile\",children:/*#__PURE__*/_jsx(\"p\",{children:sex})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group my-0\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label-form-title-profile\",children:\"\\u0E40\\u0E1A\\u0E2D\\u0E23\\u0E4C\\u0E42\\u0E17\\u0E23\\u0E28\\u0E31\\u0E1E\\u0E17\\u0E4C\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-inside-profile\",children:/*#__PURE__*/_jsx(\"p\",{children:phone})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group my-0\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label-form-title-profile\",children:\"\\u0E08\\u0E31\\u0E07\\u0E2B\\u0E27\\u0E31\\u0E14\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-inside-profile\",children:/*#__PURE__*/_jsx(\"p\",{children:province})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12 mt-0\",children:[/*#__PURE__*/_jsxs(\"a\",{href:\"/profile/edit/\".concat(user.uid),className:\"btn-block EditProfile\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-user-edit\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"mx-auto my-1\",children:\"\\u0E41\\u0E01\\u0E49\\u0E44\\u0E02\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E2A\\u0E48\\u0E27\\u0E19\\u0E15\\u0E31\\u0E27\"})]}),/*#__PURE__*/_jsxs(\"a\",{href:\"/changepass\",className:\"btn-block ChangePassword mt-2\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-unlock\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"mx-auto my-1\",children:\"\\u0E40\\u0E1B\\u0E25\\u0E35\\u0E48\\u0E22\\u0E19\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\"})]})]})]})}),/*#__PURE__*/_jsx(Chatbot,{})]});};export default Profile;","map":{"version":3,"sources":["D:/monkeyfruad/frontend/src/user/pages/profile.js"],"names":["React","useState","useMemo","useContext","useHistory","Chatbot","axios","NavbarPage","usercontext","Profile","history","user","setUser","showDropdown","SetshowDropdown","username","setUsername","firstname","setFirstname","surname","setSurname","sex","setSex","phone","setPhone","province","setProvince","imagesProfile","setImagesProfile","photo","Setphoto","loading","setLoading","Hiddendropdown","post","profiledata","data","photoURL","console","log","url","uid"],"mappings":"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","sourcesContent":["import React, { useState, useMemo, useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"./profile.css\";\r\nimport Chatbot from \"../components/chatbot\";\r\nimport axios from \"axios\";\r\nimport NavbarPage from \"../components/navnew\";\r\nimport usercontext from \"../context/usercontext\";\r\nconst Profile = () => {\r\n  let history = useHistory();\r\n  var { user, setUser } = useContext(usercontext);\r\n  // ที่เก็บ state\r\n  const [showDropdown, SetshowDropdown] = useState(true);\r\n  const [username, setUsername] = useState();\r\n  const [firstname, setFirstname] = useState();\r\n  const [surname, setSurname] = useState();\r\n  const [sex, setSex] = useState();\r\n  const [phone, setPhone] = useState();\r\n  const [province, setProvince] = useState();\r\n  const [imagesProfile, setImagesProfile] = useState(\"\"); //สร้าง State เพื่อเก็บรูปโปรไฟล์\r\n  const [photo, Setphoto] = useState(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n  const Hiddendropdown = () => {\r\n    SetshowDropdown(false);\r\n  };\r\n  useMemo(async () => {\r\n    try {\r\n      var profiledata = await axios.post(\"http://localhost:7000/user/session\", {\r\n        user: user,\r\n      });\r\n      setUsername(profiledata.data.data.username);\r\n      setFirstname(profiledata.data.data.firstname);\r\n      setSurname(profiledata.data.data.surname);\r\n      setSex(profiledata.data.data.sex);\r\n      setPhone(profiledata.data.data.phone);\r\n      setProvince(profiledata.data.data.province);\r\n      Setphoto(profiledata.data.data.photoURL);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n    setLoading(false);\r\n  }, [user]);\r\n  return loading ? (\r\n    \"\"\r\n  ) : (\r\n    <div onClick={() => Hiddendropdown()}>\r\n      <NavbarPage\r\n        SetshowDropdown={SetshowDropdown}\r\n        showDropdown={showDropdown}\r\n      />\r\n      <div className=\"container-profile\">\r\n        <form className=\"ProfileForm\">\r\n          <p className=\"h3 text-center mb-2 font-weight-bold\">\r\n            ข้อมูลส่วนตัว\r\n          </p>\r\n\r\n          <div className=\"profile-badformpost-img\">\r\n           { photo ? (\r\n              <img className=\"img-circle\" src={`${photo.url}`} />\r\n            ) : (\r\n              <img className=\"img-circle\" src={\"/img/profile.png\"} />\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"form-group my-0\">\r\n            <label className=\"label-form-title-profile\">Username</label>\r\n            <div className=\"form-inside-profile\">\r\n              <p>{username}</p>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"form-group my-0\">\r\n            <label className=\"label-form-title-profile\">ชื่อจริง</label>\r\n            <div className=\"form-inside-profile\">\r\n              <p>{firstname}</p>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"form-group my-0\">\r\n            <label className=\"label-form-title-profile\">นามสกุล</label>\r\n            <div className=\"form-inside-profile\">\r\n              <p>{surname}</p>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"form-group my-0\">\r\n            <label className=\"label-form-title-profile\">เพศ</label>\r\n            <div className=\"form-inside-profile\">\r\n              <p>{sex}</p>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"form-group my-0\">\r\n            <label className=\"label-form-title-profile\">เบอร์โทรศัพท์</label>\r\n            <div className=\"form-inside-profile\">\r\n              <p>{phone}</p>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"form-group my-0\">\r\n            <label className=\"label-form-title-profile\">จังหวัด</label>\r\n            <div className=\"form-inside-profile\">\r\n              <p>{province}</p>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-md-12 mt-0\">\r\n            <a\r\n              href={`/profile/edit/${user.uid}`}\r\n              className=\"btn-block EditProfile\"\r\n            >\r\n              <div>\r\n                <i class=\"fas fa-user-edit\"></i>\r\n              </div>\r\n              <p className=\"mx-auto my-1\">แก้ไขข้อมูลส่วนตัว</p>\r\n            </a>\r\n\r\n            <a href=\"/changepass\" className=\"btn-block ChangePassword mt-2\">\r\n              <div>\r\n                <i class=\"fas fa-unlock\"></i>\r\n              </div>\r\n              <p className=\"mx-auto my-1\">เปลี่ยนรหัสผ่าน</p>\r\n            </a>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <Chatbot />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n"]},"metadata":{},"sourceType":"module"}