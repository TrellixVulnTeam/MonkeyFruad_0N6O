{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _toConsumableArray from\"D:/monkeyfruad/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"D:/monkeyfruad/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/monkeyfruad/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/monkeyfruad/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useContext,useRef}from\"react\";import{Link,useParams,useHistory}from\"react-router-dom\";import{Modal}from\"react-bootstrap\";import{Form,Col,Button}from\"react-bootstrap\";import _ from\"lodash\";import ClipLoader from\"../components/clipLoaderReport\";import Axios from\"axios\";import NavbarPage from\"../components/navnew\";import Chatbot from\"../components/chatbot\";// import Commentitem from \"../components/commentitem\";\nimport Commentitemformypost from\"../components/commentitemformypost\";import\"./mypost.css\";import*as moment from\"moment\";import\"moment/locale/th\";import usercontext from\"../context/usercontext\";import Modalimage from\"../components/Modalimage\";var Mypost=function Mypost(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),selectone=_useState2[0],setSelectone=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),selecttwo=_useState4[0],setSelecttwo=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),selecthree=_useState6[0],setSelecthree=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),checkselectone=_useState8[0],Setcheckselectone=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),checkselecttwo=_useState10[0],Setcheckselecttwo=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),checkselectthree=_useState12[0],Setcheckselectthree=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),description=_useState14[0],setDescription=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),reportsubmitsuccess=_useState16[0],setReportsubmitsuccess=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),isActive=_useState18[0],setIsActive=_useState18[1];var onClick=function onClick(){return setIsActive(!isActive);};var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),Show=_useState20[0],setShow=_useState20[1];var _useState21=useState(),_useState22=_slicedToArray(_useState21,2),mypost=_useState22[0],Setmypost=_useState22[1];var _useState23=useState(true),_useState24=_slicedToArray(_useState23,2),showDropdown=_useState24[0],SetshowDropdown=_useState24[1];var _useState25=useState([]),_useState26=_slicedToArray(_useState25,2),imagesFile=_useState26[0],setImagesFile=_useState26[1];//สร้าง State เพื่อเก็บไฟล์ที่อัพโหลด\nvar _useState27=useState(\"\"),_useState28=_slicedToArray(_useState27,2),files=_useState28[0],Setfiles=_useState28[1];var _useState29=useState(),_useState30=_slicedToArray(_useState29,2),ErrorFileUploads=_useState30[0],SetErrorFileUploads=_useState30[1];var _useState31=useState(false),_useState32=_slicedToArray(_useState31,2),loading=_useState32[0],Setloading=_useState32[1];var _useState33=useState(false),_useState34=_slicedToArray(_useState33,2),ErrorNotselect=_useState34[0],SetErrorNotselect=_useState34[1];var inputTextArea=useRef(null);var _useContext=useContext(usercontext),user=_useContext.user;var _useParams=useParams(),uid=_useParams.uid;var _useState35=useState(false),_useState36=_slicedToArray(_useState35,2),isopen=_useState36[0],Setisopen=_useState36[1];var _useState37=useState(),_useState38=_slicedToArray(_useState37,2),imagemodal=_useState38[0],Setimagemodal=_useState38[1];var history=useHistory();var Hiddendropdown=function Hiddendropdown(){SetshowDropdown(false);};var handleClose=function handleClose(){setShow(false);setSelectone(\"\");setSelecttwo(\"\");setSelecthree(\"\");setDescription(\"\");Setcheckselectone(false);Setcheckselecttwo(false);Setcheckselectthree(false);setReportsubmitsuccess(false);SetErrorFileUploads();SetErrorNotselect(false);};var handleopenmodal=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:Setisopen(true);case 1:case\"end\":return _context.stop();}}},_callee);}));return function handleopenmodal(){return _ref.apply(this,arguments);};}();var handleclosemodal=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:Setisopen(false);case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function handleclosemodal(){return _ref2.apply(this,arguments);};}();var handleShow=function handleShow(){return setShow(true);};var deleted=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(uid,ok){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return Axios.post(\"http://localhost:7000/post/delete/\".concat(uid),ok);case 2:history.push(\"/post/history\");case 3:case\"end\":return _context3.stop();}}},_callee3);}));return function deleted(_x,_x2){return _ref3.apply(this,arguments);};}();var ok=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var _ok;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return Axios.get(\"http://localhost:7000/post/mypost/\".concat(uid));case 3:_ok=_context4.sent;Setmypost(_ok.data.item);_context4.next=10;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);console.log(_context4.t0);case 10:case\"end\":return _context4.stop();}}},_callee4,null,[[0,7]]);}));return function ok(){return _ref4.apply(this,arguments);};}();var FileUpload=function FileUpload(event){event.preventDefault();// ใส่ไว้ไม่ให้ refresh หน้าเว็บ\nsetImagesFile([]);// reset state รูป เพื่อกันในกรณีที่กดเลือกไฟล์ซ้ำแล้วรูปต่อกันจากอันเดิม\nvar files=event.target.files;//ใช้เพื่อแสดงไฟลทั้งหมดที่กดเลือกไฟล\nSetfiles(_toConsumableArray(files));SetErrorFileUploads();//ทำการวนข้อมูลภายใน Array\nvar _loop=function _loop(){var reader=new FileReader();//ใช้ Class  FileReader เป็นตัวอ่านไฟล์\nreader.readAsDataURL(files[i]);//เป็นคำสั่งสำหรับการแปลง url มาเป็น file\nreader.onloadend=function(){// ใส่ข้อมูลเข้าไปยัง state ผาน  setimagesPreviewUrls\nsetImagesFile(function(prevState){return[].concat(_toConsumableArray(prevState),[reader.result]);});//  PrevState เป็น Parameter ในการเรียก State ก่อนหน้ามาแล้วรวม Array กับ fileที่อัพโหลดเข้ามา\n};};for(var i=0;i<files.length;i++){_loop();}};var handledeleteimage=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(index){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:try{imagesFile.splice(index,1);setImagesFile(_toConsumableArray(imagesFile));files.splice(index,1);Setfiles(_toConsumableArray(files));}catch(err){console.log(err);}case 1:case\"end\":return _context5.stop();}}},_callee5);}));return function handledeleteimage(_x3){return _ref5.apply(this,arguments);};}();var handlesubmit=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(e){var formData,useruid;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:try{e.preventDefault();formData=new FormData();useruid=user.uid;_.forEach(files,function(file){formData.append(\"filereports\",file);});formData.append(\"description\",description);formData.append(\"selectOne\",selectone);formData.append(\"selectTwo\",selecttwo);formData.append(\"selectThree\",selecthree);formData.append(\"userreport\",useruid);if(checkselectone==false&&checkselecttwo==false&&checkselectthree==false){SetErrorNotselect(true);}else if(!files){SetErrorFileUploads(\"** กรุณาแนบหลักฐานประกอบเพื่อเพิ่มความน่าเชื่อถือสำหรับการรายงาน **\");}else if(files&&files.length===0){SetErrorFileUploads(\"** กรุณาแนบหลักฐานประกอบเพื่อเพิ่มความน่าเชื่อถือสำหรับการรายงาน **\");}else{Setloading(true);Axios.post(\"http://localhost:7000/post/report/\".concat(uid),formData).then(function(result){setReportsubmitsuccess(true);Setloading(false);}).catch(function(err){console.log(err);});}}catch(err){console.log(err);}case 1:case\"end\":return _context6.stop();}}},_callee6);}));return function handlesubmit(_x4){return _ref6.apply(this,arguments);};}();var handleselect=function handleselect(e){if(!checkselectone){setSelectone(\"\");}if(!checkselecttwo){setSelecttwo(\"\");}if(!checkselectthree){setSelecthree(\"\");setDescription(\"\");}};useEffect(function(){ok();handleselect();},[checkselectone,checkselecttwo,checkselectthree,imagesFile]);console.log(\"selectonevalue : \",selectone,\"check:\",checkselectone);console.log(\"selecttwovalue : \",selecttwo,\"check:\",checkselecttwo);console.log(\"selectthreevalue : \",selecthree,\"check:\",checkselectthree);console.log(\"description : \",description);console.log(\"fileupload : \",files);console.log(\"reportsubmitsuccess : \",reportsubmitsuccess);console.log(\"loading : \",loading);return/*#__PURE__*/_jsxs(\"div\",{className:\"allpage\",onClick:function onClick(){return Hiddendropdown();},children:[mypost?/*#__PURE__*/_jsxs(\"div\",{children:[\" \",/*#__PURE__*/_jsx(NavbarPage,{SetshowDropdown:SetshowDropdown,showDropdown:showDropdown}),mypost?mypost.map(function(ok){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-mypost\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mypost-profile-img\",children:[ok.photoURL?/*#__PURE__*/_jsx(\"img\",{className:\"img-circle\",src:\"\".concat(ok.photoURL.url)}):/*#__PURE__*/_jsx(\"img\",{className:\"img-circle\",src:\"/img/profile.png\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mypost-name\",children:[ok.username?\"@\":null,ok?ok.username:null]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"mypost-date\",children:[moment(new Date(ok.date.seconds*1000)).format(\"MM/DD/YYYY HH:mm\"),\" \"]})]}),user&&user.uid!=ok.useruid?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"mypostbuttonreport\",children:/*#__PURE__*/_jsx(\"button\",{variant:\"primary\",onClick:handleShow,className:\"mypostbuttonreported\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-flag\"})})}),/*#__PURE__*/_jsx(Form.Row,{children:/*#__PURE__*/_jsxs(Modal,{show:Show,onHide:handleClose,className:\"modalreport\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{className:\"namereport\",children:\"\\u0E23\\u0E32\\u0E22\\u0E07\\u0E32\\u0E19\\u0E42\\u0E1E\\u0E2A\\u0E15\\u0E4C\"})}),/*#__PURE__*/_jsxs(Modal.Body,{className:\"bigreport1\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"custom-control custom-checkbox reportcheckbox\",children:[ErrorNotselect?/*#__PURE__*/_jsx(\"h1\",{className:\"h1-formpostfileerror\",children:\"\\u0E01\\u0E23\\u0E38\\u0E13\\u0E32\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E2D\\u0E22\\u0E48\\u0E32\\u0E07\\u0E19\\u0E49\\u0E2D\\u0E22 1 \\u0E15\\u0E31\\u0E27\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\"}):/*#__PURE__*/_jsx(\"h1\",{className:\"h1-formpostfileerror\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",class:\"custom-control-input reportcheckboxinput1\",id:\"defaultInlinereport1\",onChange:function onChange(e){setSelectone(e.target.value);SetErrorNotselect(false);},value:\"\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E44\\u0E21\\u0E48\\u0E16\\u0E39\\u0E01\\u0E15\\u0E49\\u0E2D\\u0E07\",onClick:function onClick(){Setcheckselectone(!checkselectone);setReportsubmitsuccess(false);}}),/*#__PURE__*/_jsx(\"label\",{class:\"custom-control-label reportcheckboxlabel1\",for:\"defaultInlinereport1\",children:\"\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E44\\u0E21\\u0E48\\u0E16\\u0E39\\u0E01\\u0E15\\u0E49\\u0E2D\\u0E07\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"custom-control custom-checkbox reportcheckbox\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",class:\"custom-control-input reportcheckboxinput1\",id:\"defaultInlinereport2\",value:\"\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E44\\u0E21\\u0E48\\u0E40\\u0E2B\\u0E21\\u0E32\\u0E30\\u0E2A\\u0E21\",onChange:function onChange(e){setSelecttwo(e.target.value);SetErrorNotselect(false);},onClick:function onClick(){Setcheckselecttwo(!checkselecttwo);setReportsubmitsuccess(false);}}),/*#__PURE__*/_jsx(\"label\",{class:\"custom-control-label reportcheckboxlabel1\",for:\"defaultInlinereport2\",children:\"\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E44\\u0E21\\u0E48\\u0E40\\u0E2B\\u0E21\\u0E32\\u0E30\\u0E2A\\u0E21\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"custom-control custom-checkbox reportcheckbox\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",class:\"custom-control-input reportcheckboxinput1\",id:\"defaultInlinereport3\",value:\"\\u0E2D\\u0E37\\u0E48\\u0E19\\u0E46\",onChange:function onChange(e){setSelecthree(e.target.value);SetErrorNotselect(false);},onClick:function onClick(){Setcheckselectthree(!checkselectthree);setReportsubmitsuccess(false);}}),/*#__PURE__*/_jsx(\"label\",{class:\"custom-control-label reportcheckboxlabel1\",for:\"defaultInlinereport3\",children:\"\\u0E2D\\u0E37\\u0E48\\u0E19\\u0E46 (\\u0E01\\u0E23\\u0E38\\u0E13\\u0E32\\u0E23\\u0E30\\u0E1A\\u0E38\\u0E43\\u0E19\\u0E0A\\u0E48\\u0E2D\\u0E07\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E40\\u0E15\\u0E34\\u0E21)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-groupreport\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleFormControlTextarea1\"}),checkselectthree?/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",id:\"exampleFormControlTextarea1\",rows:\"4\",placeholder:\"\\u0E2D\\u0E18\\u0E34\\u0E1A\\u0E32\\u0E22\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E40\\u0E15\\u0E34\\u0E21\",onChange:function onChange(e){return setDescription(e.target.value);}}):/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",id:\"exampleFormControlTextarea1\",rows:\"4\",placeholder:\"\\u0E2D\\u0E18\\u0E34\\u0E1A\\u0E32\\u0E22\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E40\\u0E15\\u0E34\\u0E21\",readOnly:true,ref:inputTextArea,value:description})]}),/*#__PURE__*/_jsx(\"span\",{className:\"spanreport\",children:\"*\\u0E01\\u0E23\\u0E38\\u0E13\\u0E32\\u0E41\\u0E19\\u0E1A\\u0E2B\\u0E25\\u0E31\\u0E01\\u0E10\\u0E32\\u0E19\\u0E1B\\u0E23\\u0E30\\u0E01\\u0E2D\\u0E1A\\u0E40\\u0E1E\\u0E37\\u0E48\\u0E2D\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E04\\u0E27\\u0E32\\u0E21\\u0E19\\u0E48\\u0E32\\u0E40\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E16\\u0E37\\u0E2D\\u0E2A\\u0E33\\u0E2B\\u0E23\\u0E31\\u0E1A\\u0E01\\u0E32\\u0E23\\u0E23\\u0E32\\u0E22\\u0E07\\u0E32\\u0E19\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-img-holder-imgpreviewreport\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"img\",{className:\"uploadprovereport\",src:\"/img/addimage.png\"}),/*#__PURE__*/_jsx(\"input\",{id:\"FileInput\",className:\"uploadsreport\",type:\"file\",multiple:true,accept:\"image/png, image/jpeg , image/jpg\",onChange:function onChange(e){FileUpload(e);setReportsubmitsuccess(false);}})]}),imagesFile?imagesFile.map(function(imagePreviewUrl,index){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{className:\"imgpreview\",alt:\"previewImg\",src:imagePreviewUrl,style:{overflow:\"hidden\"},onMouseOver:function onMouseOver(e){return e.currentTarget.style={transform:\"scale(1.25)\",overflow:\"hidden\"};},onMouseOut:function onMouseOut(e){return e.currentTarget.style={transform:\"scale(1)\",overflow:\"hidden\"};}},index),/*#__PURE__*/_jsx(\"div\",{className:\"mypost_deleteimgpost1\",children:/*#__PURE__*/_jsx(\"img\",{className:\"mypost_deleteimgpost2\",src:\"/img/delete2.png\",onClick:function onClick(){handledeleteimage(index);setReportsubmitsuccess(false);}})})]});}):null]}),ErrorFileUploads?/*#__PURE__*/_jsx(\"h1\",{className:\"h1-formpostfileerror\",children:ErrorFileUploads}):\" \"]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[reportsubmitsuccess?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"\\u0E01\\u0E32\\u0E23\\u0E23\\u0E32\\u0E22\\u0E07\\u0E32\\u0E19\\u0E42\\u0E1E\\u0E2A\\u0E15\\u0E4C\\u0E2A\\u0E33\\u0E40\\u0E23\\u0E47\\u0E08\"})}):\"\",loading?/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6 col-3\",children:/*#__PURE__*/_jsx(ClipLoader,{loading:loading})}):/*#__PURE__*/_jsx(Button,{clsssName:\"buttonreportsave\",variant:\"primary\",onClick:function onClick(e){return handlesubmit(e);},children:\"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\"})]})]})})]}):null,user&&user.uid==ok.useruid?/*#__PURE__*/_jsx(\"div\",{className:\"container-mypostsetiing\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"menu-containermypostsetting\",children:[/*#__PURE__*/_jsx(\"div\",{onClick:onClick,className:\"mypostbuttonsetting\",children:/*#__PURE__*/_jsx(\"img\",{className:\"mypostimg-setting\",src:\"/img/setting.png\",alt:\"avatar\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mypostmenusetting \".concat(isActive?\"active\":\"inactive\"),children:/*#__PURE__*/_jsxs(\"ul\",{className:\"ul-mypostmenusetting\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"li-mypostmenusetting\",children:/*#__PURE__*/_jsx(\"a\",{className:\"a-mypostmenusetting\",children:/*#__PURE__*/_jsx(Link,{className:\"a-mypostmenusetting1\",to:\"/post/edit/\".concat(ok.uid),children:\"\\u0E41\\u0E01\\u0E49\\u0E44\\u0E02\\u0E42\\u0E1E\\u0E2A\\u0E15\\u0E4C\"})})}),/*#__PURE__*/_jsx(\"li\",{className:\"li-mypostmenusetting\",children:/*#__PURE__*/_jsxs(\"a\",{className:\"a-mypostmenusetting\",onClick:function onClick(){return deleted(ok.uid,ok);},children:[\" \",\"\\u0E25\\u0E1A\\u0E42\\u0E1E\\u0E2A\\u0E15\\u0E4C\",\" \"]})})]})})]})}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"container-mypost3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mypostprofile-bad-img\",children:ok.resultfile?/*#__PURE__*/_jsx(\"img\",{className:\"img-circle\",src:\"\".concat(ok.resultfile.url)}):/*#__PURE__*/_jsx(\"img\",{className:\"img-circle\",src:\"/img/profile.png\"})}),/*#__PURE__*/_jsxs(Form,{className:\"formsize-mypost\",children:[/*#__PURE__*/_jsxs(Form.Row,{children:[/*#__PURE__*/_jsx(Form.Group,{as:Col,className:\"mypost-left col-lg-6 col-sm-6 col-12\",controlId:\"formGridName\",children:/*#__PURE__*/_jsxs(Form.Label,{className:\"text-mypost\",children:[\"\\u0E0A\\u0E37\\u0E48\\u0E2D (\\u0E1C\\u0E39\\u0E49\\u0E42\\u0E01\\u0E07)\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"spanmypost\",children:ok.name})]})}),/*#__PURE__*/_jsx(Form.Group,{as:Col,controlId:\"formGridLastname\",children:/*#__PURE__*/_jsxs(Form.Label,{className:\"text-mypost\",children:[\"\\u0E19\\u0E32\\u0E21\\u0E2A\\u0E01\\u0E38\\u0E25 (\\u0E1C\\u0E39\\u0E49\\u0E42\\u0E01\\u0E07)\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"spanmypost\",children:ok.surname})]})})]}),/*#__PURE__*/_jsxs(Form.Row,{children:[/*#__PURE__*/_jsx(Form.Group,{as:Col,className:\"mypost-left col-lg-6 col-sm-6 col-12\",controlId:\"formGridId\",children:/*#__PURE__*/_jsxs(Form.Label,{className:\"text-mypost\",children:[\"\\u0E40\\u0E25\\u0E02\\u0E1A\\u0E31\\u0E15\\u0E23\\u0E1B\\u0E23\\u0E30\\u0E0A\\u0E32\\u0E0A\\u0E19 (\\u0E1C\\u0E39\\u0E49\\u0E42\\u0E01\\u0E07)\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"spanmypost\",children:ok.id})]})}),/*#__PURE__*/_jsx(Form.Group,{as:Col,controlId:\"formGridAccountnumber\",children:/*#__PURE__*/_jsxs(Form.Label,{className:\"text-mypost\",children:[\"\\u0E40\\u0E25\\u0E02\\u0E17\\u0E35\\u0E48\\u0E1A\\u0E31\\u0E0D\\u0E0A\\u0E35 (\\u0E1C\\u0E39\\u0E49\\u0E42\\u0E01\\u0E07)\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"spanmypost\",children:ok.accountnumber})]})})]}),/*#__PURE__*/_jsxs(Form.Row,{children:[/*#__PURE__*/_jsx(Form.Group,{as:Col,className:\"mypost-left col-lg-6 col-sm-6 col-12\",controlId:\"formGridNameproduct\",children:/*#__PURE__*/_jsxs(Form.Label,{className:\"text-mypost\",children:[\"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"spanmypost\",children:ok.nameproduct})]})}),/*#__PURE__*/_jsx(Form.Group,{as:Col,controlId:\"formGridCategory\",children:/*#__PURE__*/_jsxs(Form.Label,{className:\"text-mypost\",children:[\"\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E2B\\u0E21\\u0E39\\u0E48\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"spanmypost\",children:ok.productcategory})]})})]}),/*#__PURE__*/_jsxs(Form.Row,{children:[/*#__PURE__*/_jsx(Form.Group,{as:Col,className:\"mypost-left col-lg-6 col-sm-6 col-12\",controlId:\"formGridPrice\",children:/*#__PURE__*/_jsxs(Form.Label,{className:\"text-mypost\",children:[\"\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\\u0E40\\u0E07\\u0E34\\u0E19 (\\u0E1A\\u0E32\\u0E17)\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"spanmypost\",children:ok.money})]})}),/*#__PURE__*/_jsx(Form.Group,{as:Col,controlId:\"formGridCategory\",children:/*#__PURE__*/_jsxs(Form.Label,{className:\"text-mypost\",children:[\"\\u0E18\\u0E19\\u0E32\\u0E04\\u0E32\\u0E23\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"spanmypost\",children:ok.bank})]})})]}),/*#__PURE__*/_jsxs(Form.Row,{children:[/*#__PURE__*/_jsx(Form.Group,{as:Col,className:\"mypost-left col-lg-6 col-sm-6 col-12\",controlId:\"formGridDate\",children:/*#__PURE__*/_jsxs(Form.Label,{className:\"text-mypost\",children:[\"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E42\\u0E14\\u0E19\\u0E42\\u0E01\\u0E07\",\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"spanmypost\",children:[moment(new Date(ok.datetimes.seconds*1000)).format(\"MM/DD/YYYY HH:mm\"),\" \"]})]})}),/*#__PURE__*/_jsx(Form.Group,{as:Col,controlId:\"formGridSocial\",children:/*#__PURE__*/_jsxs(Form.Label,{className:\"text-mypost\",children:[\"\\u0E0A\\u0E48\\u0E2D\\u0E07\\u0E17\\u0E32\\u0E07\\u0E17\\u0E35\\u0E48\\u0E42\\u0E14\\u0E19\\u0E42\\u0E01\\u0E07\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"spanmypost\",children:ok.social})]})})]}),/*#__PURE__*/_jsx(Form.Row,{children:/*#__PURE__*/_jsx(Form.Group,{as:Col,controlId:\"formGridSocial\",children:/*#__PURE__*/_jsxs(Form.Label,{className:\"text-mypost\",children:[\"\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\\u0E04\\u0E23\\u0E31\\u0E49\\u0E07\\u0E17\\u0E35\\u0E48 \",ok.name,\" \",ok.surname,\" \\u0E16\\u0E39\\u0E01\\u0E41\\u0E08\\u0E49\\u0E07\",\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"spanmypost\",children:[ok.count,\" \\u0E04\\u0E23\\u0E31\\u0E49\\u0E07\"]})]})})}),/*#__PURE__*/_jsx(Form.Row,{children:/*#__PURE__*/_jsx(Form.Group,{as:Col,controlId:\"formGridSocial\",children:/*#__PURE__*/_jsxs(Form.Label,{className:\"text-mypost\",children:[\"\\u0E22\\u0E2D\\u0E14\\u0E40\\u0E07\\u0E34\\u0E19\\u0E23\\u0E27\\u0E21\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\\u0E17\\u0E35\\u0E48\\u0E42\\u0E01\\u0E07\\u0E44\\u0E1B\",\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"spanmypost\",children:[ok.summoney,\" \\u0E1A\\u0E32\\u0E17\"]})]})})}),/*#__PURE__*/_jsx(Form.Group,{controlId:\"exampleForm.ControlTextarea1\",children:/*#__PURE__*/_jsxs(Form.Label,{className:\"text-mypost\",children:[\"\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E40\\u0E15\\u0E34\\u0E21\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"spanmypost\",children:ok.other})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"img-holder-badslip\",children:[ok.item?ok.item.map(function(res){return/*#__PURE__*/_jsx(\"img\",{className:\"img-bad\",alt:\"\",src:\"\".concat(res.url),style:{overflow:\"hidden\"},onClick:function onClick(){return Setimagemodal(res.url),handleopenmodal();}});}):null,/*#__PURE__*/_jsx(Modalimage,{isopen:isopen,handleopenmodal:handleopenmodal,handleclosemodal:handleclosemodal,imagemodal:imagemodal})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"line-comment1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container-mypost4\",children:/*#__PURE__*/_jsx(Commentitemformypost,{postid:ok.uid})})]})]})});}):null,\" \"]}):null,/*#__PURE__*/_jsx(Chatbot,{})]});};export default Mypost;","map":{"version":3,"sources":["D:/monkeyfruad/frontend/src/user/pages/mypost.js"],"names":["React","useEffect","useState","useContext","useRef","Link","useParams","useHistory","Modal","Form","Col","Button","_","ClipLoader","Axios","NavbarPage","Chatbot","Commentitemformypost","moment","usercontext","Modalimage","Mypost","selectone","setSelectone","selecttwo","setSelecttwo","selecthree","setSelecthree","checkselectone","Setcheckselectone","checkselecttwo","Setcheckselecttwo","checkselectthree","Setcheckselectthree","description","setDescription","reportsubmitsuccess","setReportsubmitsuccess","isActive","setIsActive","onClick","Show","setShow","mypost","Setmypost","showDropdown","SetshowDropdown","imagesFile","setImagesFile","files","Setfiles","ErrorFileUploads","SetErrorFileUploads","loading","Setloading","ErrorNotselect","SetErrorNotselect","inputTextArea","user","uid","isopen","Setisopen","imagemodal","Setimagemodal","history","Hiddendropdown","handleClose","handleopenmodal","handleclosemodal","handleShow","deleted","ok","post","push","get","data","item","console","log","FileUpload","event","preventDefault","target","reader","FileReader","readAsDataURL","i","onloadend","prevState","result","length","handledeleteimage","index","splice","err","handlesubmit","e","formData","FormData","useruid","forEach","file","append","then","catch","handleselect","map","photoURL","url","username","Date","date","seconds","format","value","imagePreviewUrl","overflow","currentTarget","style","transform","resultfile","name","surname","id","accountnumber","nameproduct","productcategory","money","bank","datetimes","social","count","summoney","other","res"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext, useRef } from \"react\";\r\nimport { Link, useParams, useHistory } from \"react-router-dom\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { Form, Col, Button } from \"react-bootstrap\";\r\nimport _ from \"lodash\";\r\nimport ClipLoader from \"../components/clipLoaderReport\";\r\nimport Axios from \"axios\";\r\nimport NavbarPage from \"../components/navnew\";\r\nimport Chatbot from \"../components/chatbot\";\r\n// import Commentitem from \"../components/commentitem\";\r\nimport Commentitemformypost from \"../components/commentitemformypost\";\r\nimport \"./mypost.css\";\r\nimport * as moment from \"moment\";\r\nimport \"moment/locale/th\";\r\nimport usercontext from \"../context/usercontext\";\r\nimport Modalimage from \"../components/Modalimage\"\r\n\r\nconst Mypost = () => {\r\n  const [selectone, setSelectone] = useState(\"\");\r\n  const [selecttwo, setSelecttwo] = useState(\"\");\r\n  const [selecthree, setSelecthree] = useState(\"\");\r\n  const [checkselectone, Setcheckselectone] = useState(false);\r\n  const [checkselecttwo, Setcheckselecttwo] = useState(false);\r\n  const [checkselectthree, Setcheckselectthree] = useState(false);\r\n  const [description, setDescription] = useState(\"\");\r\n  const [reportsubmitsuccess, setReportsubmitsuccess] = useState(false);\r\n  const [isActive, setIsActive] = useState(false);\r\n  const onClick = () => setIsActive(!isActive);\r\n  const [Show, setShow] = useState(false);\r\n  const [mypost, Setmypost] = useState();\r\n  const [showDropdown, SetshowDropdown] = useState(true);\r\n  const [imagesFile, setImagesFile] = useState([]); //สร้าง State เพื่อเก็บไฟล์ที่อัพโหลด\r\n  const [files, Setfiles] = useState(\"\");\r\n  const [ErrorFileUploads, SetErrorFileUploads] = useState();\r\n  const [loading, Setloading] = useState(false);\r\n  const [ErrorNotselect, SetErrorNotselect] = useState(false);\r\n  const inputTextArea = useRef(null);\r\n  let { user } = useContext(usercontext);\r\n  let { uid } = useParams();\r\n  const [isopen, Setisopen] = useState(false);\r\n  const [imagemodal, Setimagemodal] = useState();\r\n  const history = useHistory();\r\n  const Hiddendropdown = () => {\r\n    SetshowDropdown(false);\r\n  };\r\n  const handleClose = () => {\r\n    setShow(false);\r\n    setSelectone(\"\");\r\n    setSelecttwo(\"\");\r\n    setSelecthree(\"\");\r\n    setDescription(\"\");\r\n    Setcheckselectone(false);\r\n    Setcheckselecttwo(false);\r\n    Setcheckselectthree(false);\r\n    setReportsubmitsuccess(false);\r\n    SetErrorFileUploads();\r\n    SetErrorNotselect(false);\r\n  };\r\n  const handleopenmodal = async() =>{\r\n    Setisopen(true)\r\n  }\r\n  const handleclosemodal = async() =>{\r\n    Setisopen(false)\r\n  }\r\n\r\n  const handleShow = () => setShow(true);\r\n  const deleted = async (uid,ok) => {\r\n    await Axios.post(`http://localhost:7000/post/delete/${uid}`,ok);\r\n    history.push(\"/post/history\");\r\n  };\r\n\r\n  const ok = async () => {\r\n    try {\r\n      const ok = await Axios.get(`http://localhost:7000/post/mypost/${uid}`);\r\n      Setmypost(ok.data.item);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  const FileUpload = (event) => {\r\n    event.preventDefault(); // ใส่ไว้ไม่ให้ refresh หน้าเว็บ\r\n    setImagesFile([]); // reset state รูป เพื่อกันในกรณีที่กดเลือกไฟล์ซ้ำแล้วรูปต่อกันจากอันเดิม\r\n    let files = event.target.files; //ใช้เพื่อแสดงไฟลทั้งหมดที่กดเลือกไฟล\r\n    Setfiles([...files]);\r\n    SetErrorFileUploads();\r\n\r\n    //ทำการวนข้อมูลภายใน Array\r\n    for (var i = 0; i < files.length; i++) {\r\n      let reader = new FileReader(); //ใช้ Class  FileReader เป็นตัวอ่านไฟล์\r\n      reader.readAsDataURL(files[i]); //เป็นคำสั่งสำหรับการแปลง url มาเป็น file\r\n      reader.onloadend = () => {\r\n        // ใส่ข้อมูลเข้าไปยัง state ผาน  setimagesPreviewUrls\r\n        setImagesFile((prevState) => [...prevState, reader.result]);\r\n        //  PrevState เป็น Parameter ในการเรียก State ก่อนหน้ามาแล้วรวม Array กับ fileที่อัพโหลดเข้ามา\r\n      };\r\n    }\r\n  };\r\n  const handledeleteimage = async (index) => {\r\n    try {\r\n      imagesFile.splice(index, 1);\r\n      setImagesFile([...imagesFile]);\r\n\r\n      files.splice(index, 1);\r\n      Setfiles([...files]);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  const handlesubmit = async (e) => {\r\n    try {\r\n      e.preventDefault();\r\n      let formData = new FormData();\r\n      let useruid = user.uid;\r\n      _.forEach(files, (file) => {\r\n        formData.append(\"filereports\", file);\r\n      });\r\n      formData.append(\"description\", description);\r\n      formData.append(\"selectOne\", selectone);\r\n      formData.append(\"selectTwo\", selecttwo);\r\n      formData.append(\"selectThree\", selecthree);\r\n      formData.append(\"userreport\", useruid);\r\n      if (\r\n        checkselectone == false &&\r\n        checkselecttwo == false &&\r\n        checkselectthree == false\r\n      ) {\r\n        SetErrorNotselect(true);\r\n      } else if (!files) {\r\n        SetErrorFileUploads(\r\n          \"** กรุณาแนบหลักฐานประกอบเพื่อเพิ่มความน่าเชื่อถือสำหรับการรายงาน **\"\r\n        );\r\n      } else if (files && files.length === 0) {\r\n        SetErrorFileUploads(\r\n          \"** กรุณาแนบหลักฐานประกอบเพื่อเพิ่มความน่าเชื่อถือสำหรับการรายงาน **\"\r\n        );\r\n      } else {\r\n        Setloading(true);\r\n        Axios.post(`http://localhost:7000/post/report/${uid}`, formData)\r\n          .then((result) => {\r\n            setReportsubmitsuccess(true);\r\n            Setloading(false);\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          });\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const handleselect = (e) => {\r\n    if (!checkselectone) {\r\n      setSelectone(\"\");\r\n    }\r\n    if (!checkselecttwo) {\r\n      setSelecttwo(\"\");\r\n    }\r\n    if (!checkselectthree) {\r\n      setSelecthree(\"\");\r\n      setDescription(\"\");\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    ok();\r\n    handleselect();\r\n  }, [checkselectone, checkselecttwo, checkselectthree, imagesFile]);\r\n  console.log(\"selectonevalue : \", selectone, \"check:\", checkselectone);\r\n  console.log(\"selecttwovalue : \", selecttwo, \"check:\", checkselecttwo);\r\n  console.log(\"selectthreevalue : \", selecthree, \"check:\", checkselectthree);\r\n  console.log(\"description : \", description);\r\n  console.log(\"fileupload : \", files);\r\n  console.log(\"reportsubmitsuccess : \", reportsubmitsuccess);\r\n  console.log(\"loading : \", loading);\r\n  return (\r\n    <div className=\"allpage\" onClick={() => Hiddendropdown()}>\r\n      {mypost ? (\r\n        <div>\r\n          {\" \"}\r\n          <NavbarPage\r\n            SetshowDropdown={SetshowDropdown}\r\n            showDropdown={showDropdown}\r\n          />\r\n          {mypost\r\n            ? mypost.map((ok) => {\r\n                return (\r\n                  <div>\r\n                    <div className=\"container-mypost\">\r\n                      <div className=\"mypost-profile-img\">\r\n                        {ok.photoURL ? (\r\n                          <img\r\n                            className=\"img-circle\"\r\n                            src={`${ok.photoURL.url}`}\r\n                          />\r\n                        ) : (\r\n                          <img className=\"img-circle\" src=\"/img/profile.png\" />\r\n                        )}\r\n                        <div className=\"mypost-name\">\r\n                          {ok.username ? \"@\" : null}\r\n                          {ok ? ok.username : null}\r\n                        </div>\r\n                        <br />\r\n                        <div className=\"mypost-date\">\r\n                          {moment(new Date(ok.date.seconds * 1000)).format(\r\n                            \"MM/DD/YYYY HH:mm\"\r\n                          )}{\" \"}\r\n                          {/* <span className=\"mypost-time\">23:38 </span> */}\r\n                        </div>\r\n                      </div>\r\n                      {user && user.uid != ok.useruid ? (\r\n                        <div>\r\n                          <div className=\"mypostbuttonreport\">\r\n                            <button\r\n                              variant=\"primary\"\r\n                              onClick={handleShow}\r\n                              className=\"mypostbuttonreported\"\r\n                            >\r\n                              <i class=\"fa fa-flag\"></i>\r\n                            </button>\r\n                          </div>\r\n                          <Form.Row>\r\n                            <Modal\r\n                              show={Show}\r\n                              onHide={handleClose}\r\n                              className=\"modalreport\"\r\n                            >\r\n                              <Modal.Header closeButton>\r\n                                <Modal.Title className=\"namereport\">\r\n                                  รายงานโพสต์\r\n                                </Modal.Title>\r\n                              </Modal.Header>\r\n                              <Modal.Body className=\"bigreport1\">\r\n                                <div class=\"custom-control custom-checkbox reportcheckbox\">\r\n                                  {ErrorNotselect ? (\r\n                                    <h1 className=\"h1-formpostfileerror\">\r\n                                      กรุณาเลือกอย่างน้อย 1 ตัวเลือก\r\n                                    </h1>\r\n                                  ) : (\r\n                                    <h1 className=\"h1-formpostfileerror\"></h1>\r\n                                  )}\r\n                                  <input\r\n                                    type=\"checkbox\"\r\n                                    class=\"custom-control-input reportcheckboxinput1\"\r\n                                    id=\"defaultInlinereport1\"\r\n                                    onChange={(e) => {\r\n                                      setSelectone(e.target.value);\r\n                                      SetErrorNotselect(false);\r\n                                    }}\r\n                                    value=\"ข้อมูลไม่ถูกต้อง\"\r\n                                    onClick={() => {\r\n                                      Setcheckselectone(!checkselectone);\r\n                                      setReportsubmitsuccess(false);\r\n                                    }}\r\n                                  ></input>\r\n                                  <label\r\n                                    class=\"custom-control-label reportcheckboxlabel1\"\r\n                                    for=\"defaultInlinereport1\"\r\n                                  >\r\n                                    ข้อมูลไม่ถูกต้อง\r\n                                  </label>\r\n                                </div>\r\n                                <div class=\"custom-control custom-checkbox reportcheckbox\">\r\n                                  <input\r\n                                    type=\"checkbox\"\r\n                                    class=\"custom-control-input reportcheckboxinput1\"\r\n                                    id=\"defaultInlinereport2\"\r\n                                    value=\"ข้อมูลไม่เหมาะสม\"\r\n                                    onChange={(e) => {\r\n                                      setSelecttwo(e.target.value);\r\n                                      SetErrorNotselect(false);\r\n                                    }}\r\n                                    onClick={() => {\r\n                                      Setcheckselecttwo(!checkselecttwo);\r\n                                      setReportsubmitsuccess(false);\r\n                                    }}\r\n                                  ></input>\r\n                                  <label\r\n                                    class=\"custom-control-label reportcheckboxlabel1\"\r\n                                    for=\"defaultInlinereport2\"\r\n                                  >\r\n                                    ข้อมูลไม่เหมาะสม\r\n                                  </label>\r\n                                </div>\r\n                                <div class=\"custom-control custom-checkbox reportcheckbox\">\r\n                                  <input\r\n                                    type=\"checkbox\"\r\n                                    class=\"custom-control-input reportcheckboxinput1\"\r\n                                    id=\"defaultInlinereport3\"\r\n                                    value=\"อื่นๆ\"\r\n                                    onChange={(e) => {\r\n                                      setSelecthree(e.target.value);\r\n                                      SetErrorNotselect(false);\r\n                                    }}\r\n                                    onClick={() => {\r\n                                      Setcheckselectthree(!checkselectthree);\r\n                                      setReportsubmitsuccess(false);\r\n                                    }}\r\n                                  ></input>\r\n                                  <label\r\n                                    class=\"custom-control-label reportcheckboxlabel1\"\r\n                                    for=\"defaultInlinereport3\"\r\n                                  >\r\n                                    อื่นๆ (กรุณาระบุในช่องเพิ่มเติม)\r\n                                  </label>\r\n                                </div>\r\n                                <div className=\"form-groupreport\">\r\n                                  <label htmlFor=\"exampleFormControlTextarea1\"></label>\r\n                                  {checkselectthree ? (\r\n                                    <textarea\r\n                                      className=\"form-control\"\r\n                                      id=\"exampleFormControlTextarea1\"\r\n                                      rows=\"4\"\r\n                                      placeholder=\"อธิบายรายละเอียดเพิ่มเติม\"\r\n                                      onChange={(e) =>\r\n                                        setDescription(e.target.value)\r\n                                      }\r\n                                    />\r\n                                  ) : (\r\n                                    <textarea\r\n                                      className=\"form-control\"\r\n                                      id=\"exampleFormControlTextarea1\"\r\n                                      rows=\"4\"\r\n                                      placeholder=\"อธิบายรายละเอียดเพิ่มเติม\"\r\n                                      readOnly={true}\r\n                                      ref={inputTextArea}\r\n                                      value={description}\r\n                                    />\r\n                                  )}\r\n                                </div>\r\n                                <span className=\"spanreport\">\r\n                                  *กรุณาแนบหลักฐานประกอบเพื่อเพิ่มความน่าเชื่อถือสำหรับการรายงาน\r\n                                </span>\r\n                                <div className=\"container-img-holder-imgpreviewreport\">\r\n                                  <label>\r\n                                    <img\r\n                                      className=\"uploadprovereport\"\r\n                                      src=\"/img/addimage.png\"\r\n                                    />\r\n                                    <input\r\n                                      id=\"FileInput\"\r\n                                      className=\"uploadsreport\"\r\n                                      type=\"file\"\r\n                                      multiple\r\n                                      accept=\"image/png, image/jpeg , image/jpg\"\r\n                                      onChange={(e) => {\r\n                                        FileUpload(e);\r\n                                        setReportsubmitsuccess(false);\r\n                                      }}\r\n                                    />\r\n                                  </label>\r\n                                  {imagesFile\r\n                                    ? imagesFile.map(\r\n                                        (imagePreviewUrl, index) => {\r\n                                          return (\r\n                                            <div>\r\n                                              <img\r\n                                                key={index}\r\n                                                className=\"imgpreview\"\r\n                                                alt=\"previewImg\"\r\n                                                src={imagePreviewUrl}\r\n                                                style={{ overflow: \"hidden\" }}\r\n                                                onMouseOver={(e) =>\r\n                                                  (e.currentTarget.style = {\r\n                                                    transform: \"scale(1.25)\",\r\n                                                    overflow: \"hidden\",\r\n                                                  })\r\n                                                }\r\n                                                onMouseOut={(e) =>\r\n                                                  (e.currentTarget.style = {\r\n                                                    transform: \"scale(1)\",\r\n                                                    overflow: \"hidden\",\r\n                                                  })\r\n                                                }\r\n                                              />\r\n                                              <div className=\"mypost_deleteimgpost1\">\r\n                                                <img\r\n                                                  className=\"mypost_deleteimgpost2\"\r\n                                                  src=\"/img/delete2.png\"\r\n                                                  onClick={() => {\r\n                                                    handledeleteimage(index);\r\n                                                    setReportsubmitsuccess(\r\n                                                      false\r\n                                                    );\r\n                                                  }}\r\n                                                />\r\n                                              </div>\r\n                                            </div>\r\n                                          );\r\n                                        }\r\n                                      )\r\n                                    : null}\r\n                                </div>\r\n                                {ErrorFileUploads ? (\r\n                                  <h1 className=\"h1-formpostfileerror\">\r\n                                    {ErrorFileUploads}\r\n                                  </h1>\r\n                                ) : (\r\n                                  \" \"\r\n                                )}\r\n                              </Modal.Body>\r\n                              <Modal.Footer>\r\n                                {/* <Button\r\n                                    variant=\"secondary\"\r\n                                    onClick={handleClose}\r\n                                  >\r\n                                    ยกเลิก\r\n                                  </Button> */}\r\n                                {reportsubmitsuccess ? (\r\n                                  <div>\r\n                                    <span>การรายงานโพสต์สำเร็จ</span>\r\n                                  </div>\r\n                                ) : (\r\n                                  \"\"\r\n                                )}\r\n                                {loading ? (\r\n                                  <div className=\"col-lg-6 col-3\">\r\n                                    <ClipLoader loading={loading} />\r\n                                  </div>\r\n                                ) : (\r\n                                  <Button\r\n                                    clsssName=\"buttonreportsave\"\r\n                                    variant=\"primary\"\r\n                                    onClick={(e) => handlesubmit(e)}\r\n                                  >\r\n                                    บันทึก\r\n                                  </Button>\r\n                                )}\r\n                              </Modal.Footer>\r\n                            </Modal>\r\n                          </Form.Row>\r\n                        </div>\r\n                      ) : null}\r\n\r\n                      {user && user.uid == ok.useruid ? (\r\n                        <div className=\"container-mypostsetiing\">\r\n                          <div className=\"menu-containermypostsetting\">\r\n                            <div\r\n                              onClick={onClick}\r\n                              className=\"mypostbuttonsetting\"\r\n                            >\r\n                              <img\r\n                                className=\"mypostimg-setting\"\r\n                                src=\"/img/setting.png\"\r\n                                alt=\"avatar\"\r\n                              ></img>\r\n                            </div>\r\n                            <div\r\n                              className={`mypostmenusetting ${\r\n                                isActive ? \"active\" : \"inactive\"\r\n                              }`}\r\n                            >\r\n                              <ul className=\"ul-mypostmenusetting\">\r\n                                <li className=\"li-mypostmenusetting\">\r\n                                  <a className=\"a-mypostmenusetting\">\r\n                                    <Link\r\n                                      className=\"a-mypostmenusetting1\"\r\n                                      to={`/post/edit/${ok.uid}`}\r\n                                    >\r\n                                      แก้ไขโพสต์\r\n                                    </Link>\r\n                                  </a>\r\n                                </li>\r\n                                <li className=\"li-mypostmenusetting\">\r\n                                  <a\r\n                                    className=\"a-mypostmenusetting\"\r\n                                    onClick={() => deleted(ok.uid,ok)}\r\n                                  >\r\n                                    {\" \"}\r\n                                    ลบโพสต์{\" \"}\r\n                                  </a>\r\n                                </li>\r\n                              </ul>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      ) : null}\r\n\r\n                      <div className=\"container-mypost3\">\r\n                        <div className=\"mypostprofile-bad-img\">\r\n                          {ok.resultfile ? (\r\n                            <img\r\n                              className=\"img-circle\"\r\n                              src={`${ok.resultfile.url}`}\r\n                            />\r\n                          ) : (\r\n                            <img\r\n                              className=\"img-circle\"\r\n                              src=\"/img/profile.png\"\r\n                            />\r\n                          )}\r\n                        </div>\r\n                        <Form className=\"formsize-mypost\">\r\n                          <Form.Row>\r\n                            <Form.Group\r\n                              as={Col}\r\n                              className=\"mypost-left col-lg-6 col-sm-6 col-12\"\r\n                              controlId=\"formGridName\"\r\n                            >\r\n                              <Form.Label className=\"text-mypost\">\r\n                                ชื่อ (ผู้โกง){\" \"}\r\n                                <span className=\"spanmypost\">{ok.name}</span>\r\n                              </Form.Label>\r\n                            </Form.Group>\r\n\r\n                            <Form.Group as={Col} controlId=\"formGridLastname\">\r\n                              <Form.Label className=\"text-mypost\">\r\n                                นามสกุล (ผู้โกง){\" \"}\r\n                                <span className=\"spanmypost\">{ok.surname}</span>\r\n                              </Form.Label>\r\n                            </Form.Group>\r\n                          </Form.Row>\r\n\r\n                          <Form.Row>\r\n                            <Form.Group\r\n                              as={Col}\r\n                              className=\"mypost-left col-lg-6 col-sm-6 col-12\"\r\n                              controlId=\"formGridId\"\r\n                            >\r\n                              <Form.Label className=\"text-mypost\">\r\n                                เลขบัตรประชาชน (ผู้โกง){\" \"}\r\n                                <span className=\"spanmypost\">{ok.id}</span>\r\n                              </Form.Label>\r\n                            </Form.Group>\r\n\r\n                            <Form.Group\r\n                              as={Col}\r\n                              controlId=\"formGridAccountnumber\"\r\n                            >\r\n                              <Form.Label className=\"text-mypost\">\r\n                                เลขที่บัญชี (ผู้โกง){\" \"}\r\n                                <span className=\"spanmypost\">\r\n                                  {ok.accountnumber}\r\n                                </span>\r\n                              </Form.Label>\r\n                            </Form.Group>\r\n                          </Form.Row>\r\n\r\n                          <Form.Row>\r\n                            <Form.Group\r\n                              as={Col}\r\n                              className=\"mypost-left col-lg-6 col-sm-6 col-12\"\r\n                              controlId=\"formGridNameproduct\"\r\n                            >\r\n                              <Form.Label className=\"text-mypost\">\r\n                                ชื่อสินค้า{\" \"}\r\n                                <span className=\"spanmypost\">\r\n                                  {ok.nameproduct}\r\n                                </span>\r\n                              </Form.Label>\r\n                            </Form.Group>\r\n\r\n                            <Form.Group as={Col} controlId=\"formGridCategory\">\r\n                              <Form.Label className=\"text-mypost\">\r\n                                หมวดหมู่สินค้า{\" \"}\r\n                                <span className=\"spanmypost\">\r\n                                  {ok.productcategory}\r\n                                </span>\r\n                              </Form.Label>\r\n                            </Form.Group>\r\n                          </Form.Row>\r\n\r\n                          <Form.Row>\r\n                            <Form.Group\r\n                              as={Col}\r\n                              className=\"mypost-left col-lg-6 col-sm-6 col-12\"\r\n                              controlId=\"formGridPrice\"\r\n                            >\r\n                              <Form.Label className=\"text-mypost\">\r\n                                จำนวนเงิน (บาท){\" \"}\r\n                                <span className=\"spanmypost\">{ok.money}</span>\r\n                              </Form.Label>\r\n                            </Form.Group>\r\n\r\n                            <Form.Group as={Col} controlId=\"formGridCategory\">\r\n                              <Form.Label className=\"text-mypost\">\r\n                                ธนาคาร{\" \"}\r\n                                <span className=\"spanmypost\">{ok.bank}</span>\r\n                              </Form.Label>\r\n                            </Form.Group>\r\n                          </Form.Row>\r\n\r\n                          <Form.Row>\r\n                            <Form.Group\r\n                              as={Col}\r\n                              className=\"mypost-left col-lg-6 col-sm-6 col-12\"\r\n                              controlId=\"formGridDate\"\r\n                            >\r\n                              <Form.Label className=\"text-mypost\">\r\n                                วันที่โดนโกง{\" \"}\r\n                                <span className=\"spanmypost\">\r\n                                  {moment(\r\n                                    new Date(ok.datetimes.seconds * 1000)\r\n                                  ).format(\"MM/DD/YYYY HH:mm\")}{\" \"}\r\n                                </span>\r\n                              </Form.Label>\r\n                            </Form.Group>\r\n\r\n                            <Form.Group as={Col} controlId=\"formGridSocial\">\r\n                              <Form.Label className=\"text-mypost\">\r\n                                ช่องทางที่โดนโกง{\" \"}\r\n                                <span className=\"spanmypost\">{ok.social}</span>\r\n                              </Form.Label>\r\n                            </Form.Group>\r\n                          </Form.Row>\r\n\r\n                          <Form.Row>\r\n                            <Form.Group as={Col} controlId=\"formGridSocial\">\r\n                              <Form.Label className=\"text-mypost\">\r\n                                จำนวนครั้งที่ {ok.name} {ok.surname} ถูกแจ้ง{\" \"}\r\n                                <span className=\"spanmypost\">\r\n                                  {ok.count} ครั้ง\r\n                                </span>\r\n                              </Form.Label>\r\n                            </Form.Group>\r\n                          </Form.Row>\r\n                          <Form.Row>\r\n                            <Form.Group as={Col} controlId=\"formGridSocial\">\r\n                              <Form.Label className=\"text-mypost\">\r\n                                ยอดเงินรวมทั้งหมดที่โกงไป{\" \"}\r\n                                <span className=\"spanmypost\">\r\n                                  {ok.summoney} บาท\r\n                                </span>\r\n                              </Form.Label>\r\n                            </Form.Group>\r\n                          </Form.Row>\r\n\r\n                          <Form.Group controlId=\"exampleForm.ControlTextarea1\">\r\n                            <Form.Label className=\"text-mypost\">\r\n                              รายละเอียดเพิ่มเติม{\" \"}\r\n                              <span className=\"spanmypost\">{ok.other}</span>\r\n                            </Form.Label>\r\n                          </Form.Group>\r\n                          <div className=\"img-holder-badslip\">\r\n                            {ok.item\r\n                              ? ok.item.map((res) => {\r\n                                  return (\r\n                                    <img\r\n                                      className=\"img-bad\"\r\n                                      alt=\"\"\r\n                                      src={`${res.url}`}\r\n                                      style={{ overflow: \"hidden\" }}\r\n                                     \r\n                                      onClick = {() => (Setimagemodal(res.url),handleopenmodal())}\r\n                                    />\r\n                                  );\r\n                                })\r\n                              : null}\r\n                              <Modalimage isopen={isopen} handleopenmodal={handleopenmodal} handleclosemodal={handleclosemodal} imagemodal={imagemodal}/>\r\n                          </div>\r\n                        </Form>\r\n                        <div className=\"line-comment1\"></div>\r\n                        <div className=\"container-mypost4\">\r\n                          <Commentitemformypost postid={ok.uid} />\r\n                        </div>\r\n                        {/* <button onClick={()=>handle()}></button> */}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })\r\n            : null}{\" \"}\r\n        </div>\r\n      ) : null}\r\n      <Chatbot />\r\n    </div>\r\n  );\r\n};\r\nexport default Mypost;\r\n"]},"metadata":{},"sourceType":"module"}