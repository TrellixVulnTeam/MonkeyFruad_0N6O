{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"D:/monkeyfruad/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/monkeyfruad/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/monkeyfruad/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useContext}from\"react\";import{useHistory}from\"react-router-dom\";import Axios from\"axios\";import\"../../user/components/commentitem.css\";import Listcomment from\"./listcommentpost\";import _ from\"lodash\";var Commentpost=function Commentpost(_ref){var postid=_ref.postid,isActive=_ref.isActive,setIsActive=_ref.setIsActive;var _useState=useState(),_useState2=_slicedToArray(_useState,2),imagecomment=_useState2[0],Setimagecomment=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),imagesFile=_useState4[0],setImagesFile=_useState4[1];//สร้าง State เพื่อเก็บไฟล์ที่อัพโหลด\nvar _useState5=useState(),_useState6=_slicedToArray(_useState5,2),files=_useState6[0],Setfiles=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),commentmore=_useState8[0],Setcommentmore=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),showcommentall=_useState10[0],Setshowcommentall=_useState10[1];var _useState11=useState(true),_useState12=_slicedToArray(_useState11,2),hidebutton=_useState12[0],Sethidebutton=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),click=_useState14[0],Setclick=_useState14[1];var _useState15=useState(),_useState16=_slicedToArray(_useState15,2),showdelete=_useState16[0],Setshowdelete=_useState16[1];var _useState17=useState(),_useState18=_slicedToArray(_useState17,2),showedit=_useState18[0],Setshowedit=_useState18[1];var _useState19=useState([]),_useState20=_slicedToArray(_useState19,2),item=_useState20[0],Setitem=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),checkedittext=_useState22[0],Setcheckedittext=_useState22[1];var _useState23=useState([]),_useState24=_slicedToArray(_useState23,2),fuck=_useState24[0],Setfuck=_useState24[1];var _useState25=useState(),_useState26=_slicedToArray(_useState25,2),loading=_useState26[0],Setloading=_useState26[1];var _useState27=useState(),_useState28=_slicedToArray(_useState27,2),data=_useState28[0],Setdata=_useState28[1];var _useState29=useState(),_useState30=_slicedToArray(_useState29,2),show=_useState30[0],Setshow=_useState30[1];var _useState31=useState(),_useState32=_slicedToArray(_useState31,2),error=_useState32[0],Seterror=_useState32[1];var _useState33=useState(\"\"),_useState34=_slicedToArray(_useState33,2),textcomment=_useState34[0],Settextcomment=_useState34[1];var _useState35=useState(),_useState36=_slicedToArray(_useState35,2),photourl=_useState36[0],Setphotourl=_useState36[1];var _useState37=useState(),_useState38=_slicedToArray(_useState37,2),photopublic_id=_useState38[0],Setphotopublic_id=_useState38[1];var history=useHistory();var handlemorecomment=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:try{Setshowcommentall(true);Sethidebutton(false);}catch(err){console.log(err);}case 1:case\"end\":return _context.stop();}}},_callee);}));return function handlemorecomment(){return _ref2.apply(this,arguments);};}();var gg=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var getcommentall;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return Axios.get(\"https://monkeyfruad01.herokuapp.com/post/commentmore/\".concat(postid));case 3:getcommentall=_context2.sent;Setcommentmore(getcommentall.data.item);_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function gg(){return _ref3.apply(this,arguments);};}();useEffect(function(){gg();},[click,showdelete,showedit,postid]);return/*#__PURE__*/_jsxs(\"div\",{children:[showcommentall?/*#__PURE__*/_jsxs(\"div\",{children:[\" \",commentmore?commentmore.map(function(commentmore){return/*#__PURE__*/_jsx(Listcomment,{commentmore:commentmore,setIsActive:setIsActive,isActive:isActive});}):null,\" \"]}):/*#__PURE__*/_jsx(\"div\",{children:commentmore?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Listcomment,{commentmore:commentmore[0],setIsActive:setIsActive,isActive:isActive}),\" \",/*#__PURE__*/_jsx(Listcomment,{commentmore:commentmore[1],setIsActive:setIsActive,isActive:isActive}),\" \",/*#__PURE__*/_jsx(Listcomment,{commentmore:commentmore[2],setIsActive:setIsActive,isActive:isActive}),\" \"]}):null}),commentmore&&commentmore.length>3?/*#__PURE__*/_jsxs(\"div\",{children:[hidebutton?/*#__PURE__*/_jsxs(\"button\",{onClick:handlemorecomment,className:\"postother2\",children:[\"\\u0E14\\u0E39\\u0E2D\\u0E35\\u0E01 \",commentmore.length-3,\" \\u0E04\\u0E27\\u0E32\\u0E21\\u0E04\\u0E34\\u0E14\\u0E40\\u0E2B\\u0E47\\u0E19\"]}):null,\" \"]}):null]});};export default Commentpost;","map":{"version":3,"sources":["D:/monkeyfruad/frontend/src/admin/components/commentpost.js"],"names":["React","useEffect","useState","useContext","useHistory","Axios","Listcomment","_","Commentpost","postid","isActive","setIsActive","imagecomment","Setimagecomment","imagesFile","setImagesFile","files","Setfiles","commentmore","Setcommentmore","showcommentall","Setshowcommentall","hidebutton","Sethidebutton","click","Setclick","showdelete","Setshowdelete","showedit","Setshowedit","item","Setitem","checkedittext","Setcheckedittext","fuck","Setfuck","loading","Setloading","data","Setdata","show","Setshow","error","Seterror","textcomment","Settextcomment","photourl","Setphotourl","photopublic_id","Setphotopublic_id","history","handlemorecomment","err","console","log","gg","get","getcommentall","map","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Axios from \"axios\";\r\nimport \"../../user/components/commentitem.css\";\r\nimport Listcomment from \"./listcommentpost\";\r\nimport _ from \"lodash\";\r\nconst Commentpost = ({ postid, isActive, setIsActive }) => {\r\n  const [imagecomment, Setimagecomment] = useState();\r\n  const [imagesFile, setImagesFile] = useState(); //สร้าง State เพื่อเก็บไฟล์ที่อัพโหลด\r\n  const [files, Setfiles] = useState();\r\n  const [commentmore, Setcommentmore] = useState();\r\n  const [showcommentall, Setshowcommentall] = useState();\r\n  const [hidebutton, Sethidebutton] = useState(true);\r\n  const [click, Setclick] = useState();\r\n  const [showdelete, Setshowdelete] = useState();\r\n  const [showedit, Setshowedit] = useState();\r\n  const [item, Setitem] = useState([]);\r\n  const [checkedittext, Setcheckedittext] = useState(false);\r\n  const [fuck, Setfuck] = useState([]);\r\n\r\n  const [loading, Setloading] = useState();\r\n  const [data, Setdata] = useState();\r\n  const [show, Setshow] = useState();\r\n  const [error, Seterror] = useState();\r\n\r\n  const [textcomment, Settextcomment] = useState(\"\");\r\n  const [photourl, Setphotourl] = useState();\r\n  const [photopublic_id, Setphotopublic_id] = useState();\r\n  let history = useHistory();\r\n\r\n  const handlemorecomment = async () => {\r\n    try {\r\n      Setshowcommentall(true);\r\n      Sethidebutton(false);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const gg = async () => {\r\n    try {\r\n      const getcommentall = await Axios.get(\r\n        `https://monkeyfruad01.herokuapp.com/post/commentmore/${postid}`\r\n      );\r\n      Setcommentmore(getcommentall.data.item);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    gg();\r\n  }, [click, showdelete, showedit, postid]);\r\n\r\n  return (\r\n    <div>\r\n      {showcommentall ? (\r\n        <div>\r\n          {\" \"}\r\n          {commentmore\r\n            ? commentmore.map((commentmore) => {\r\n                return (\r\n                  <Listcomment\r\n                    commentmore={commentmore}\r\n                    setIsActive={setIsActive}\r\n                    isActive={isActive}\r\n                  />\r\n                );\r\n              })\r\n            : null}{\" \"}\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          {commentmore ? (\r\n            <div>\r\n              <Listcomment\r\n                commentmore={commentmore[0]}\r\n                setIsActive={setIsActive}\r\n                isActive={isActive}\r\n              />{\" \"}\r\n              <Listcomment\r\n                commentmore={commentmore[1]}\r\n                setIsActive={setIsActive}\r\n                isActive={isActive}\r\n              />{\" \"}\r\n              <Listcomment\r\n                commentmore={commentmore[2]}\r\n                setIsActive={setIsActive}\r\n                isActive={isActive}\r\n              />{\" \"}\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      )}\r\n\r\n      {commentmore && commentmore.length > 3 ? (\r\n        <div>\r\n          {hidebutton ? (\r\n            <button onClick={handlemorecomment} className=\"postother2\">\r\n              ดูอีก {commentmore.length - 3} ความคิดเห็น\r\n            </button>\r\n          ) : null}{\" \"}\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Commentpost;\r\n"]},"metadata":{},"sourceType":"module"}