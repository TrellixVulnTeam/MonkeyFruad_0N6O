{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\monkeyfruad\\\\frontend\\\\src\\\\admin\\\\components\\\\commentpost.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Axios from \"axios\";\nimport \"../../user/components/commentitem.css\";\nimport Listcomment from \"./listcommentpost\";\nimport _ from \"lodash\";\nimport Loading from \"./pacmanloading\";\nimport ClipLoader from \"./clipLoader\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport Modalimage from \"./Modalimage\";\n\nconst Commentpost = ({\n  postid,\n  isActive,\n  setIsActive\n}) => {\n  _s();\n\n  let {\n    user,\n    setUser\n  } = useContext(usercontext);\n  const [imagecomment, Setimagecomment] = useState();\n  const [imagesFile, setImagesFile] = useState(); //สร้าง State เพื่อเก็บไฟล์ที่อัพโหลด\n\n  const [files, Setfiles] = useState();\n  const [commentmore, Setcommentmore] = useState();\n  const [showcommentall, Setshowcommentall] = useState();\n  const [hidebutton, Sethidebutton] = useState(true);\n  const [click, Setclick] = useState();\n  const [showdelete, Setshowdelete] = useState();\n  const [showedit, Setshowedit] = useState();\n  const [item, Setitem] = useState([]);\n  const [checkedittext, Setcheckedittext] = useState(false);\n  const [fuck, Setfuck] = useState([]);\n  const [loading, Setloading] = useState();\n  const [data, Setdata] = useState();\n  const [show, Setshow] = useState();\n  const [error, Seterror] = useState();\n  const [textcomment, Settextcomment] = useState(\"\");\n  const [photourl, Setphotourl] = useState();\n  const [photopublic_id, Setphotopublic_id] = useState();\n  let history = useHistory();\n\n  const handlemorecomment = async () => {\n    try {\n      Setshowcommentall(true);\n      Sethidebutton(false);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const gg = async () => {\n    try {\n      const getcommentall = await Axios.get(`http://localhost:7000/post/commentmore/${postid}`);\n      Setcommentmore(getcommentall.data.item);\n\n      if (user) {\n        const nameuser = await Axios.post(\"http://localhost:7000/user/userid\", {\n          result: user\n        });\n        Setdata(nameuser.data.item);\n        var profiledata = await Axios.post(\"http://localhost:7000/user/session\", {\n          user: user\n        });\n        Setphotourl(profiledata.data.data.photoURL.url);\n        Setphotopublic_id(profiledata.data.data.photoURL.public_id);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    gg();\n  }, [click, showdelete, showedit, postid]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [showcommentall ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\" \", commentmore ? commentmore.map(commentmore => {\n        return /*#__PURE__*/_jsxDEV(Listcomment, {\n          commentmore: commentmore,\n          handledeletetorerender: handledeletetorerender,\n          handleedittorerender: handleedittorerender,\n          setIsActive: setIsActive,\n          isActive: isActive\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 19\n        }, this);\n      }) : null, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: commentmore ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Listcomment, {\n          commentmore: commentmore[0],\n          handledeletetorerender: handledeletetorerender,\n          handleedittorerender: handleedittorerender,\n          setIsActive: setIsActive,\n          isActive: isActive\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 15\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Listcomment, {\n          commentmore: commentmore[1],\n          handledeletetorerender: handledeletetorerender,\n          handleedittorerender: handleedittorerender,\n          setIsActive: setIsActive,\n          isActive: isActive\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 15\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Listcomment, {\n          commentmore: commentmore[2],\n          handledeletetorerender: handledeletetorerender,\n          handleedittorerender: handleedittorerender,\n          setIsActive: setIsActive,\n          isActive: isActive\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 15\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }, this) : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }, this), commentmore && commentmore.length > 3 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [hidebutton ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handlemorecomment,\n        className: \"postother2\",\n        children: [\"\\u0E14\\u0E39\\u0E2D\\u0E35\\u0E01 \", commentmore.length - 3, \" \\u0E04\\u0E27\\u0E32\\u0E21\\u0E04\\u0E34\\u0E14\\u0E40\\u0E2B\\u0E47\\u0E19\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }, this) : null, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Commentpost, \"UT0VyVdwW+7NUwAQWdu/BTynI9k=\", false, function () {\n  return [useHistory];\n});\n\n_c = Commentpost;\nexport default Commentpost;\n\nvar _c;\n\n$RefreshReg$(_c, \"Commentpost\");","map":{"version":3,"sources":["D:/monkeyfruad/frontend/src/admin/components/commentpost.js"],"names":["React","useEffect","useState","useContext","useHistory","Axios","Listcomment","_","Loading","ClipLoader","v4","uuidv4","Modalimage","Commentpost","postid","isActive","setIsActive","user","setUser","usercontext","imagecomment","Setimagecomment","imagesFile","setImagesFile","files","Setfiles","commentmore","Setcommentmore","showcommentall","Setshowcommentall","hidebutton","Sethidebutton","click","Setclick","showdelete","Setshowdelete","showedit","Setshowedit","item","Setitem","checkedittext","Setcheckedittext","fuck","Setfuck","loading","Setloading","data","Setdata","show","Setshow","error","Seterror","textcomment","Settextcomment","photourl","Setphotourl","photopublic_id","Setphotopublic_id","history","handlemorecomment","err","console","log","gg","getcommentall","get","nameuser","post","result","profiledata","photoURL","url","public_id","map","handledeletetorerender","handleedittorerender","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Axios from \"axios\";\r\nimport \"../../user/components/commentitem.css\";\r\nimport Listcomment from \"./listcommentpost\";\r\nimport _ from \"lodash\";\r\nimport Loading from \"./pacmanloading\";\r\nimport ClipLoader from \"./clipLoader\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport Modalimage from \"./Modalimage\";\r\n\r\nconst Commentpost = ({ postid, isActive, setIsActive }) => {\r\n  let { user, setUser } = useContext(usercontext);\r\n  const [imagecomment, Setimagecomment] = useState();\r\n  const [imagesFile, setImagesFile] = useState(); //สร้าง State เพื่อเก็บไฟล์ที่อัพโหลด\r\n  const [files, Setfiles] = useState();\r\n  const [commentmore, Setcommentmore] = useState();\r\n  const [showcommentall, Setshowcommentall] = useState();\r\n  const [hidebutton, Sethidebutton] = useState(true);\r\n  const [click, Setclick] = useState();\r\n  const [showdelete, Setshowdelete] = useState();\r\n  const [showedit, Setshowedit] = useState();\r\n  const [item, Setitem] = useState([]);\r\n  const [checkedittext, Setcheckedittext] = useState(false);\r\n  const [fuck, Setfuck] = useState([]);\r\n\r\n  const [loading, Setloading] = useState();\r\n  const [data, Setdata] = useState();\r\n  const [show, Setshow] = useState();\r\n  const [error, Seterror] = useState();\r\n\r\n  const [textcomment, Settextcomment] = useState(\"\");\r\n  const [photourl, Setphotourl] = useState();\r\n  const [photopublic_id, Setphotopublic_id] = useState();\r\n  let history = useHistory();\r\n\r\n  const handlemorecomment = async () => {\r\n    try {\r\n      Setshowcommentall(true);\r\n      Sethidebutton(false);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const gg = async () => {\r\n    try {\r\n      const getcommentall = await Axios.get(\r\n        `http://localhost:7000/post/commentmore/${postid}`\r\n      );\r\n      Setcommentmore(getcommentall.data.item);\r\n      if (user) {\r\n        const nameuser = await Axios.post(\"http://localhost:7000/user/userid\", {\r\n          result: user,\r\n        });\r\n        Setdata(nameuser.data.item);\r\n\r\n        var profiledata = await Axios.post(\r\n          \"http://localhost:7000/user/session\",\r\n          {\r\n            user: user,\r\n          }\r\n        );\r\n        Setphotourl(profiledata.data.data.photoURL.url);\r\n        Setphotopublic_id(profiledata.data.data.photoURL.public_id);\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    gg();\r\n  }, [click, showdelete, showedit, postid]);\r\n\r\n  return (\r\n    <div>\r\n      {showcommentall ? (\r\n        <div>\r\n          {\" \"}\r\n          {commentmore\r\n            ? commentmore.map((commentmore) => {\r\n                return (\r\n                  <Listcomment\r\n                    commentmore={commentmore}\r\n                    handledeletetorerender={handledeletetorerender}\r\n                    handleedittorerender={handleedittorerender}\r\n                    setIsActive={setIsActive}\r\n                    isActive={isActive}\r\n                  />\r\n                );\r\n              })\r\n            : null}{\" \"}\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          {commentmore ? (\r\n            <div>\r\n              <Listcomment\r\n                commentmore={commentmore[0]}\r\n                handledeletetorerender={handledeletetorerender}\r\n                handleedittorerender={handleedittorerender}\r\n                setIsActive={setIsActive}\r\n                isActive={isActive}\r\n              />{\" \"}\r\n              <Listcomment\r\n                commentmore={commentmore[1]}\r\n                handledeletetorerender={handledeletetorerender}\r\n                handleedittorerender={handleedittorerender}\r\n                setIsActive={setIsActive}\r\n                isActive={isActive}\r\n              />{\" \"}\r\n              <Listcomment\r\n                commentmore={commentmore[2]}\r\n                handledeletetorerender={handledeletetorerender}\r\n                handleedittorerender={handleedittorerender}\r\n                setIsActive={setIsActive}\r\n                isActive={isActive}\r\n              />{\" \"}\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      )}\r\n\r\n      {commentmore && commentmore.length > 3 ? (\r\n        <div>\r\n          {hidebutton ? (\r\n            <button onClick={handlemorecomment} className=\"postother2\">\r\n              ดูอีก {commentmore.length - 3} ความคิดเห็น\r\n            </button>\r\n          ) : null}{\" \"}\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Commentpost;\r\n"]},"metadata":{},"sourceType":"module"}