{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"D:/monkeyfruad/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/monkeyfruad/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/monkeyfruad/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useContext}from\"react\";import{Form,Col,FormControl,Button}from\"react-bootstrap\";import{Link}from\"react-router-dom\";import Axios from\"axios\";import*as moment from\"moment\";import\"moment/locale/th\";var Historyitem=function Historyitem(_ref){var ok=_ref.ok,user=_ref.user,handledeletetorerender=_ref.handledeletetorerender;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isActive=_useState2[0],setIsActive=_useState2[1];var onClick=function onClick(){return setIsActive(!isActive);};var newdate=new Date(ok.date.seconds*1000);var date=moment(newdate).format(\"lll\");var deleted=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(uid,ok){var postdelete;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;console.log(ok);_context.next=4;return Axios.post(\"http://localhost:7000/post/delete/\".concat(uid),ok);case 4:postdelete=_context.sent;setIsActive(false);handledeletetorerender();_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function deleted(_x,_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"container-history1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-history2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"container-historysetiing\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"menu-containerhistorysetting\",children:[/*#__PURE__*/_jsx(\"div\",{onClick:onClick,className:\"historybuttonsetting\",children:/*#__PURE__*/_jsx(\"img\",{className:\"historyimg-setting\",src:\"/img/setting.png\",alt:\"avatar\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"historymenusetting \".concat(isActive?\"active\":\"inactive\"),children:/*#__PURE__*/_jsxs(\"ul\",{className:\"ul-historymenusetting\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"li-historymenusetting\",children:/*#__PURE__*/_jsx(\"a\",{className:\"a-historymenusetting\",children:/*#__PURE__*/_jsx(Link,{className:\"a-historymenusetting1\",to:\"/post/edit/\".concat(ok.uid),children:\"\\u0E41\\u0E01\\u0E49\\u0E44\\u0E02\\u0E42\\u0E1E\\u0E2A\\u0E15\\u0E4C\"})})}),/*#__PURE__*/_jsx(\"li\",{className:\"li-historymenusetting\",children:/*#__PURE__*/_jsxs(\"a\",{className:\"a-historymenusetting\",onClick:function onClick(){return deleted(ok.uid,ok);},children:[\" \",\"\\u0E25\\u0E1A\\u0E42\\u0E1E\\u0E2A\\u0E15\\u0E4C\",\" \"]})})]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-history\",children:[/*#__PURE__*/_jsxs(Form,{className:\"formsize-history\",children:[/*#__PURE__*/_jsxs(Form.Row,{children:[/*#__PURE__*/_jsx(Form.Group,{as:Col,className:\"\\u0E49history-left col-lg-6 col-12\",controlId:\"formGridName\",children:/*#__PURE__*/_jsx(Form.Label,{children:\"\\u0E0A\\u0E37\\u0E48\\u0E2D - \\u0E19\\u0E32\\u0E21\\u0E2A\\u0E01\\u0E38\\u0E25\\u0E1C\\u0E39\\u0E49\\u0E42\\u0E01\\u0E07\"})}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsxs(\"span\",{className:\"spanhistory\",children:[ok.name,\" \",ok.surname]})})]}),/*#__PURE__*/_jsxs(Form.Row,{children:[/*#__PURE__*/_jsx(Form.Group,{as:Col,className:\"history-left col-lg-6 col-12\",controlId:\"formGridId\",children:/*#__PURE__*/_jsx(Form.Label,{children:\"\\u0E40\\u0E25\\u0E02\\u0E17\\u0E35\\u0E48\\u0E1A\\u0E31\\u0E0D\\u0E0A\\u0E35 (\\u0E1C\\u0E39\\u0E49\\u0E42\\u0E01\\u0E07)\"})}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsx(\"span\",{className:\"spanhistory\",children:ok.accountnumber})})]}),/*#__PURE__*/_jsxs(Form.Row,{children:[/*#__PURE__*/_jsx(Form.Group,{as:Col,className:\"history-left col-lg-6 col-12\",controlId:\"formGridNameproduct\",children:/*#__PURE__*/_jsx(Form.Label,{children:\"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\"})}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsxs(\"span\",{className:\"spanhistory\",children:[ok.nameproduct,\" \"]})})]}),/*#__PURE__*/_jsxs(Form.Row,{children:[/*#__PURE__*/_jsx(Form.Group,{as:Col,className:\"history-left col-lg-6 col-12\",controlId:\"formGridPrice\",children:/*#__PURE__*/_jsx(Form.Label,{children:\"\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\\u0E40\\u0E07\\u0E34\\u0E19 (\\u0E1A\\u0E32\\u0E17)\"})}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsxs(\"span\",{className:\"spanhistory\",children:[ok.money.toLocaleString(undefined,{maximumFractionDigits:2}),\" \"]})})]}),/*#__PURE__*/_jsxs(Form.Row,{children:[/*#__PURE__*/_jsx(Form.Group,{as:Col,className:\"history-left col-lg-6 col-12\",controlId:\"formGridDate\",children:/*#__PURE__*/_jsx(Form.Label,{children:\"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E42\\u0E1E\\u0E2A\\u0E15\\u0E4C\"})}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsxs(\"span\",{className:\"spanhistory\",children:[date,\" \"]})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"historyother\",children:/*#__PURE__*/_jsx(Link,{className:\"historyother1\",to:\"/mypost/\".concat(ok.uid),children:\"\\u0E14\\u0E39\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E40\\u0E15\\u0E34\\u0E21\"})})]})]})})});};export default Historyitem;","map":{"version":3,"sources":["D:/monkeyfruad/frontend/src/user/components/historyitem.js"],"names":["React","useEffect","useState","useContext","Form","Col","FormControl","Button","Link","Axios","moment","Historyitem","ok","user","handledeletetorerender","isActive","setIsActive","onClick","newdate","Date","date","seconds","format","deleted","uid","console","log","post","postdelete","name","surname","accountnumber","nameproduct","money","toLocaleString","undefined","maximumFractionDigits"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\r\nimport { Form, Col, FormControl, Button } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Axios from \"axios\";\r\nimport * as moment from \"moment\";\r\nimport \"moment/locale/th\";\r\n\r\n\r\nconst Historyitem = ({ ok, user, handledeletetorerender }) => {\r\n  const [isActive, setIsActive] = useState(false);\r\n  const onClick = () => setIsActive(!isActive);\r\n\r\n  const newdate = new Date(ok.date.seconds * 1000);\r\n  let date = moment(newdate).format(\"lll\");\r\n\r\n  const deleted = async (uid,ok) => {\r\n    try {\r\n      console.log(ok)\r\n      const postdelete = await Axios.post(\r\n        `http://localhost:7000/post/delete/${uid}`,ok\r\n      );\r\n      setIsActive(false)\r\n      handledeletetorerender();\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"container-history1\">\r\n        <div className=\"container-history2\">\r\n          <div className=\"container-historysetiing\">\r\n            <div className=\"menu-containerhistorysetting\">\r\n              <div onClick={onClick} className=\"historybuttonsetting\">\r\n                <img\r\n                  className=\"historyimg-setting\"\r\n                  src=\"/img/setting.png\"\r\n                  alt=\"avatar\"\r\n                ></img>\r\n              </div>\r\n              <div\r\n                className={`historymenusetting ${\r\n                  isActive ? \"active\" : \"inactive\"\r\n                }`}\r\n              >\r\n                <ul className=\"ul-historymenusetting\">\r\n                  <li className=\"li-historymenusetting\">\r\n                    <a className=\"a-historymenusetting\">\r\n                      <Link\r\n                        className=\"a-historymenusetting1\"\r\n                        to={`/post/edit/${ok.uid}`}\r\n                      >\r\n                        แก้ไขโพสต์\r\n                      </Link>\r\n                    </a>\r\n                  </li>\r\n                  <li className=\"li-historymenusetting\">\r\n                    <a\r\n                      className=\"a-historymenusetting\"\r\n                      onClick={() => deleted(ok.uid,ok)}\r\n                    >\r\n                      {\" \"}\r\n                      ลบโพสต์{\" \"}\r\n                    </a>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"container-history\">\r\n            <Form className=\"formsize-history\">\r\n              <Form.Row>\r\n                <Form.Group\r\n                  as={Col}\r\n                  className=\"้history-left col-lg-6 col-12\"\r\n                  controlId=\"formGridName\"\r\n                >\r\n                  <Form.Label>ชื่อ - นามสกุลผู้โกง</Form.Label>\r\n                </Form.Group>\r\n\r\n                <Form.Group>\r\n                  <span className=\"spanhistory\">\r\n                    {ok.name} {ok.surname}\r\n                  </span>\r\n                </Form.Group>\r\n              </Form.Row>\r\n\r\n              <Form.Row>\r\n                <Form.Group\r\n                  as={Col}\r\n                  className=\"history-left col-lg-6 col-12\"\r\n                  controlId=\"formGridId\"\r\n                >\r\n                  <Form.Label>เลขที่บัญชี (ผู้โกง)</Form.Label>\r\n                </Form.Group>\r\n\r\n                <Form.Group>\r\n                  <span className=\"spanhistory\">{ok.accountnumber}</span>\r\n                </Form.Group>\r\n              </Form.Row>\r\n\r\n              <Form.Row>\r\n                <Form.Group\r\n                  as={Col}\r\n                  className=\"history-left col-lg-6 col-12\"\r\n                  controlId=\"formGridNameproduct\"\r\n                >\r\n                  <Form.Label>ชื่อสินค้า</Form.Label>\r\n                </Form.Group>\r\n\r\n                <Form.Group>\r\n                  <span className=\"spanhistory\">{ok.nameproduct} </span>\r\n                </Form.Group>\r\n              </Form.Row>\r\n\r\n              <Form.Row>\r\n                <Form.Group\r\n                  as={Col}\r\n                  className=\"history-left col-lg-6 col-12\"\r\n                  controlId=\"formGridPrice\"\r\n                >\r\n                  <Form.Label>จำนวนเงิน (บาท)</Form.Label>\r\n                </Form.Group>\r\n\r\n                <Form.Group>\r\n                  <span className=\"spanhistory\">{ok.money.toLocaleString(undefined, {maximumFractionDigits:2})} </span>\r\n                </Form.Group>\r\n              </Form.Row>\r\n\r\n              <Form.Row>\r\n                <Form.Group\r\n                  as={Col}\r\n                  className=\"history-left col-lg-6 col-12\"\r\n                  controlId=\"formGridDate\"\r\n                >\r\n                  <Form.Label>วันที่โพสต์</Form.Label>\r\n                </Form.Group>\r\n\r\n                <Form.Group>\r\n                  <span className=\"spanhistory\">{date} </span>\r\n                </Form.Group>\r\n              </Form.Row>\r\n            </Form>\r\n            <div className=\"historyother\">\r\n              <Link className=\"historyother1\" to={`/mypost/${ok.uid}`}>\r\n                ดูเพิ่มเติม\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Historyitem;\r\n"]},"metadata":{},"sourceType":"module"}