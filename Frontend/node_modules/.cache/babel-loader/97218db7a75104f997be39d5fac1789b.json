{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"D:/monkeyfruad/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/monkeyfruad/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/monkeyfruad/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import\"./changepass.css\";import Chatbot from\"../components/chatbot\";import{Formik,Form,Field,ErrorMessage}from\"formik\";import*as Yup from\"yup\";import{auth,authcredentail}from\"../Frontfirebase\";import NavbarPage from\"../components/navnew\";var Changepass=function Changepass(){// ที่เก็บ state\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),password=_useState2[0],setPassword=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),newpassword=_useState4[0],setNewPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),invalidpass=_useState6[0],setInvalidpass=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),existpass=_useState8[0],setExistpass=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),successpass=_useState10[0],setSuccesspass=_useState10[1];var _useState11=useState(true),_useState12=_slicedToArray(_useState11,2),showDropdown=_useState12[0],SetshowDropdown=_useState12[1];// เอาข้อมูล user ที่ login อยู่\nvar user=auth.currentUser;// verify user credentail\nvar reauthenticate=function reauthenticate(currentPassword){var cred=authcredentail.EmailAuthProvider.credential(user.email,currentPassword);return user.reauthenticateWithCredential(cred);};var Hiddendropdown=function Hiddendropdown(){SetshowDropdown(false);};var submitpass=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e,oldPassword,newPassword){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return reauthenticate(oldPassword);case 4:_context.next=6;return user.updatePassword(newPassword);case 6:setSuccesspass(true);setInvalidpass(false);_context.next=15;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);console.log(_context.t0);setInvalidpass(true);setSuccesspass(false);case 15:case\"end\":return _context.stop();}}},_callee,null,[[1,10]]);}));return function submitpass(_x,_x2,_x3){return _ref.apply(this,arguments);};}();// Style มาตรฐานของ Formik\nvar styles={row:{marginTop:\"8rem\"},txt1:{fontFamily:\"Roboto\",fontSize:\"2.2rem\",color:\"#fff\",marginBottom:\"1rem\",fontWeight:\"700\",textAlign:\"center\"},txt2:{fontFamily:\"Roboto\",fontSize:\"1rem\",color:\"#fff\"}};//object schema สำหรับทำ validation\nvar RegisterSchema=Yup.object().shape({oldPassword:Yup.string().min(6,\"กรุณากรอกตัวอักษรอย่างน้อย 6 ตัว\").max(20,\"ยาวเกินไป\").required(\"จำเป็นต้องกรอกช่องนี้\"),password:Yup.string().min(6,\"กรุณากรอกตัวอักษรอย่างน้อย 6 ตัว\").max(20,\"ยาวเกินไป\").required(\"จำเป็นต้องกรอกช่องนี้\"),confirmPassword:Yup.string().min(6,\"กรุณากรอกตัวอักษรอย่างน้อย 6 ตัว\").max(20,\"ยาวเกินไป\").required(\"จำเป็นต้องกรอกช่องนี้\")//check is password match ?\n.test(\"รหัสผ่านตรงกัน\",\"รหัสผ่านไม่ตรงกัน\",function(value){return this.parent.password===value;})});return/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return Hiddendropdown();},children:[/*#__PURE__*/_jsx(NavbarPage,{SetshowDropdown:SetshowDropdown,showDropdown:showDropdown}),/*#__PURE__*/_jsx(\"div\",{className:\"container-changepass\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"ChangePassForm\",onSubmit:function onSubmit(e){return submitpass(e,password,newpassword);},children:[/*#__PURE__*/_jsx(\"img\",{src:\"/img/logoLogin.png\",className:\"Logo-signup\"}),/*#__PURE__*/_jsx(\"p\",{className:\"h3 text-center mb-2 font-weight-bold\",children:\"\\u0E40\\u0E1B\\u0E25\\u0E35\\u0E48\\u0E22\\u0E19\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\"}),invalidpass?/*#__PURE__*/_jsx(\"div\",{className:\"alert-signup\",children:/*#__PURE__*/_jsx(\"span\",{children:\"\\u0E04\\u0E38\\u0E13\\u0E01\\u0E23\\u0E2D\\u0E01\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\\u0E40\\u0E01\\u0E48\\u0E32\\u0E1C\\u0E34\\u0E14\"})}):/*#__PURE__*/_jsx(\"p\",{}),successpass?/*#__PURE__*/_jsx(\"div\",{className:\"alert-forgetpass\",children:/*#__PURE__*/_jsx(\"span\",{children:\"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\\u0E02\\u0E2D\\u0E07\\u0E04\\u0E38\\u0E13\\u0E16\\u0E39\\u0E01\\u0E40\\u0E1B\\u0E25\\u0E35\\u0E48\\u0E22\\u0E19\\u0E41\\u0E25\\u0E49\\u0E27\"})}):/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12\",children:[/*#__PURE__*/_jsx(Formik,{initialValues:{name:\"\",lastname:\"\",email:\"\",password:\"\",confirmPassword:\"\",phone:\"\",username:\"\"},validationSchema:RegisterSchema,onSubmit:function onSubmit(values){// same shape as initial values\nconsole.log(values);},children:function children(_ref2){var errors=_ref2.errors,touched=_ref2.touched;return/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-1\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"oldPassword\",style:styles.txt2,children:\"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\\u0E1B\\u0E31\\u0E08\\u0E08\\u0E38\\u0E1A\\u0E31\\u0E19\"}),/*#__PURE__*/_jsx(Field,{name:\"oldPassword\",type:\"password\",className:\"form-control \".concat(touched.oldpassword?errors.oldpassword?\"is-invalid\":\"is-valid\":\"\"),id:\"oldPassword\",placeholder:\"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\\u0E1B\\u0E31\\u0E08\\u0E08\\u0E38\\u0E1A\\u0E31\\u0E19\",onKeyUp:function onKeyUp(e){setPassword(e.target.value);}}),/*#__PURE__*/_jsx(ErrorMessage,{component:\"div\",name:\"oldPassword\",className:\"invalid-feedback\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-1\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",style:styles.txt2,children:\"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\\u0E43\\u0E2B\\u0E21\\u0E48\"}),/*#__PURE__*/_jsx(Field,{name:\"password\",type:\"password\",className:\"form-control \".concat(touched.password?errors.password?\"is-invalid\":\"is-valid\":\"\"),id:\"password\",placeholder:\"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\\u0E43\\u0E2B\\u0E21\\u0E48\",onKeyUp:function onKeyUp(e){setNewPassword(e.target.value);}}),/*#__PURE__*/_jsx(ErrorMessage,{component:\"div\",name:\"password\",className:\"invalid-feedback\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-1\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmPassword\",style:styles.txt2,children:\"\\u0E22\\u0E37\\u0E19\\u0E22\\u0E31\\u0E19\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\\u0E43\\u0E2B\\u0E21\\u0E48\"}),/*#__PURE__*/_jsx(Field,{name:\"confirmPassword\",type:\"password\",className:\"form-control \".concat(touched.confirmPassword?errors.confirmPassword?\"is-invalid\":\"is-valid\":\"\"),id:\"confirmPassword\",placeholder:\"\\u0E22\\u0E37\\u0E19\\u0E22\\u0E31\\u0E19\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\\u0E43\\u0E2B\\u0E21\\u0E48\"}),/*#__PURE__*/_jsx(ErrorMessage,{component:\"div\",name:\"confirmPassword\",className:\"invalid-feedback\"})]})]});}}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"btn-block SaveChange mt-4\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-save pr-1\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"mx-auto my-1\",children:\"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\"})]})]})]})}),/*#__PURE__*/_jsx(Chatbot,{})]});};export default Changepass;","map":{"version":3,"sources":["D:/monkeyfruad/frontend/src/user/pages/changpass.js"],"names":["React","useState","Chatbot","Formik","Form","Field","ErrorMessage","Yup","auth","authcredentail","NavbarPage","Changepass","password","setPassword","newpassword","setNewPassword","invalidpass","setInvalidpass","existpass","setExistpass","successpass","setSuccesspass","showDropdown","SetshowDropdown","user","currentUser","reauthenticate","currentPassword","cred","EmailAuthProvider","credential","email","reauthenticateWithCredential","Hiddendropdown","submitpass","e","oldPassword","newPassword","preventDefault","updatePassword","console","log","styles","row","marginTop","txt1","fontFamily","fontSize","color","marginBottom","fontWeight","textAlign","txt2","RegisterSchema","object","shape","string","min","max","required","confirmPassword","test","value","parent","name","lastname","phone","username","values","errors","touched","oldpassword","target"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport \"./changepass.css\";\r\nimport Chatbot from \"../components/chatbot\";\r\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { auth, authcredentail } from \"../Frontfirebase\";\r\nimport NavbarPage from \"../components/navnew\";\r\n\r\nconst Changepass = () => {\r\n  // ที่เก็บ state\r\n  const [password, setPassword] = useState(\"\");\r\n  const [newpassword, setNewPassword] = useState(\"\");\r\n  const [invalidpass, setInvalidpass] = useState(false);\r\n  const [existpass, setExistpass] = useState(false);\r\n  const [successpass, setSuccesspass] = useState(false);\r\n  const [showDropdown, SetshowDropdown] = useState(true);\r\n\r\n  // เอาข้อมูล user ที่ login อยู่\r\n  var user = auth.currentUser;\r\n\r\n  // verify user credentail\r\n  const reauthenticate = (currentPassword) => {\r\n    var cred = authcredentail.EmailAuthProvider.credential(\r\n      user.email,\r\n      currentPassword\r\n    );\r\n    return user.reauthenticateWithCredential(cred);\r\n  };\r\n  const Hiddendropdown = () => {\r\n    SetshowDropdown(false);\r\n  };\r\n  const submitpass = async (e, oldPassword, newPassword) => {\r\n    e.preventDefault();\r\n    try {\r\n      // reauthenticating\r\n      await reauthenticate(oldPassword);\r\n      // updating password\r\n      await user.updatePassword(newPassword);\r\n      setSuccesspass(true);\r\n      setInvalidpass(false);\r\n    } catch (err) {\r\n      console.log(err);\r\n      setInvalidpass(true);\r\n      setSuccesspass(false);\r\n    }\r\n  };\r\n\r\n  // Style มาตรฐานของ Formik\r\n  const styles = {\r\n    row: {\r\n      marginTop: \"8rem\",\r\n    },\r\n    txt1: {\r\n      fontFamily: \"Roboto\",\r\n      fontSize: \"2.2rem\",\r\n      color: \"#fff\",\r\n      marginBottom: \"1rem\",\r\n      fontWeight: \"700\",\r\n      textAlign: \"center\",\r\n    },\r\n    txt2: {\r\n      fontFamily: \"Roboto\",\r\n      fontSize: \"1rem\",\r\n      color: \"#fff\",\r\n    },\r\n  };\r\n\r\n  //object schema สำหรับทำ validation\r\n  const RegisterSchema = Yup.object().shape({\r\n    oldPassword: Yup.string()\r\n      .min(6, \"กรุณากรอกตัวอักษรอย่างน้อย 6 ตัว\")\r\n      .max(20, \"ยาวเกินไป\")\r\n      .required(\"จำเป็นต้องกรอกช่องนี้\"),\r\n    password: Yup.string()\r\n      .min(6, \"กรุณากรอกตัวอักษรอย่างน้อย 6 ตัว\")\r\n      .max(20, \"ยาวเกินไป\")\r\n      .required(\"จำเป็นต้องกรอกช่องนี้\"),\r\n    confirmPassword: Yup.string()\r\n      .min(6, \"กรุณากรอกตัวอักษรอย่างน้อย 6 ตัว\")\r\n      .max(20, \"ยาวเกินไป\")\r\n      .required(\"จำเป็นต้องกรอกช่องนี้\")\r\n      //check is password match ?\r\n      .test(\"รหัสผ่านตรงกัน\", \"รหัสผ่านไม่ตรงกัน\", function (value) {\r\n        return this.parent.password === value;\r\n      }),\r\n  });\r\n\r\n  return (\r\n    <div onClick={() => Hiddendropdown()}>\r\n      <NavbarPage\r\n        SetshowDropdown={SetshowDropdown}\r\n        showDropdown={showDropdown}\r\n      />\r\n      <div className=\"container-changepass\">\r\n        <form\r\n          className=\"ChangePassForm\"\r\n          onSubmit={(e) => submitpass(e, password, newpassword)}\r\n        >\r\n          <img src=\"/img/logoLogin.png\" className=\"Logo-signup\" />\r\n          <p className=\"h3 text-center mb-2 font-weight-bold\">\r\n            เปลี่ยนรหัสผ่าน\r\n          </p>\r\n          {invalidpass ? (\r\n            <div className=\"alert-signup\">\r\n              <span>คุณกรอกรหัสผ่านเก่าผิด</span>\r\n            </div>\r\n          ) : (\r\n            <p></p>\r\n          )}\r\n          {successpass ? (\r\n            <div className=\"alert-forgetpass\">\r\n              <span>รหัสผ่านของคุณถูกเปลี่ยนแล้ว</span>\r\n            </div>\r\n          ) : (\r\n            <p></p>\r\n          )}\r\n          <div className=\"col-md-12\">\r\n            <Formik\r\n              initialValues={{\r\n                name: \"\",\r\n                lastname: \"\",\r\n                email: \"\",\r\n                password: \"\",\r\n                confirmPassword: \"\",\r\n                phone: \"\",\r\n                username: \"\",\r\n              }}\r\n              validationSchema={RegisterSchema}\r\n              onSubmit={(values) => {\r\n                // same shape as initial values\r\n                console.log(values);\r\n              }}\r\n            >\r\n              {({ errors, touched }) => (\r\n                <Form>\r\n                  <div className=\"form-group mb-1\">\r\n                    <label htmlFor=\"oldPassword\" style={styles.txt2}>\r\n                      รหัสผ่านปัจจุบัน\r\n                    </label>\r\n                    <Field\r\n                      name=\"oldPassword\"\r\n                      type=\"password\"\r\n                      className={`form-control ${\r\n                        touched.oldpassword\r\n                          ? errors.oldpassword\r\n                            ? \"is-invalid\"\r\n                            : \"is-valid\"\r\n                          : \"\"\r\n                      }`}\r\n                      id=\"oldPassword\"\r\n                      placeholder=\"รหัสผ่านปัจจุบัน\"\r\n                      onKeyUp={(e) => {\r\n                        setPassword(e.target.value);\r\n                      }}\r\n                    />\r\n                    <ErrorMessage\r\n                      component=\"div\"\r\n                      name=\"oldPassword\"\r\n                      className=\"invalid-feedback\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"form-group mb-1\">\r\n                    <label htmlFor=\"password\" style={styles.txt2}>\r\n                      รหัสผ่านใหม่\r\n                    </label>\r\n                    <Field\r\n                      name=\"password\"\r\n                      type=\"password\"\r\n                      className={`form-control ${\r\n                        touched.password\r\n                          ? errors.password\r\n                            ? \"is-invalid\"\r\n                            : \"is-valid\"\r\n                          : \"\"\r\n                      }`}\r\n                      id=\"password\"\r\n                      placeholder=\"รหัสผ่านใหม่\"\r\n                      onKeyUp={(e) => {\r\n                        setNewPassword(e.target.value);\r\n                      }}\r\n                    />\r\n                    <ErrorMessage\r\n                      component=\"div\"\r\n                      name=\"password\"\r\n                      className=\"invalid-feedback\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"form-group mb-1\">\r\n                    <label htmlFor=\"confirmPassword\" style={styles.txt2}>\r\n                      ยืนยันรหัสผ่านใหม่\r\n                    </label>\r\n                    <Field\r\n                      name=\"confirmPassword\"\r\n                      type=\"password\"\r\n                      className={`form-control ${\r\n                        touched.confirmPassword\r\n                          ? errors.confirmPassword\r\n                            ? \"is-invalid\"\r\n                            : \"is-valid\"\r\n                          : \"\"\r\n                      }`}\r\n                      id=\"confirmPassword\"\r\n                      placeholder=\"ยืนยันรหัสผ่านใหม่\"\r\n                    />\r\n                    <ErrorMessage\r\n                      component=\"div\"\r\n                      name=\"confirmPassword\"\r\n                      className=\"invalid-feedback\"\r\n                    />\r\n                  </div>\r\n                </Form>\r\n              )}\r\n            </Formik>\r\n\r\n            <button type=\"submit\" className=\"btn-block SaveChange mt-4\">\r\n              <div>\r\n                <i class=\"fas fa-save pr-1\"></i>\r\n              </div>\r\n              <p className=\"mx-auto my-1\">บันทึกข้อมูล</p>\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <Chatbot />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Changepass;\r\n"]},"metadata":{},"sourceType":"module"}