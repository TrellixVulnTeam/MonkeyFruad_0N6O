{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"D:/monkeyfruad/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/monkeyfruad/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/monkeyfruad/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useContext,useRef}from\"react\";import{Link,useParams,useHistory}from\"react-router-dom\";import{Modal}from\"react-bootstrap\";import{Form,Col,Button}from\"react-bootstrap\";import _ from\"lodash\";import Axios from\"axios\";import NavbarPage from\"../../user/components/navnew\";import Commentmypost from\"../components/commentmypost\";import Modalimage from\"../../user/components/Modalimage\";import\"../../user/pages/mypost.css\";import*as moment from\"moment\";import\"moment/locale/th\";var Seepost=function Seepost(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isActive=_useState2[0],setIsActive=_useState2[1];var onClick=function onClick(){return setIsActive(!isActive);};var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),mypost=_useState4[0],Setmypost=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),showDropdown=_useState6[0],SetshowDropdown=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),imagesFile=_useState8[0],setImagesFile=_useState8[1];//สร้าง State เพื่อเก็บไฟล์ที่อัพโหลด\nvar _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),files=_useState10[0],Setfiles=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isopen=_useState12[0],Setisopen=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),imagemodal=_useState14[0],Setimagemodal=_useState14[1];var inputTextArea=useRef(null);var _useParams=useParams(),uid=_useParams.uid;var history=useHistory();var ok=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _ok;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return Axios.get(\"http://localhost:7000/post/mypost/\".concat(uid));case 3:_ok=_context.sent;Setmypost(_ok.data.item);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function ok(){return _ref.apply(this,arguments);};}();var deleteClick=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();_context2.next=3;return Axios.post(\"http://localhost:7000/post/delete/\".concat(uid));case 3:history.push(\"/report\");case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function deleteClick(_x){return _ref2.apply(this,arguments);};}();var handleopenmodal=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:Setisopen(true);case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function handleopenmodal(){return _ref3.apply(this,arguments);};}();var handleclosemodal=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:Setisopen(false);case 1:case\"end\":return _context4.stop();}}},_callee4);}));return function handleclosemodal(){return _ref4.apply(this,arguments);};}();useEffect(function(){ok();},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"allpage\",children:mypost?/*#__PURE__*/_jsxs(\"div\",{children:[\" \",/*#__PURE__*/_jsx(NavbarPage,{}),mypost?mypost.map(function(ok){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-post2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return deleteClick(e);},variant:\"primary\",className:\"mypostbuttonreported\",children:/*#__PURE__*/_jsx(\"i\",{class:\"far fa-trash-alt\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mypost-profile-img\",children:[ok.photoURL?/*#__PURE__*/_jsx(\"img\",{className:\"img-circle\",src:\"\".concat(ok.photoURL.url)}):/*#__PURE__*/_jsx(\"img\",{className:\"img-circle\",src:\"/img/profile.png\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mypost-name\",children:[ok.username?\"@\":null,ok?ok.username:null]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"mypost-date\",children:[moment(new Date(ok.date.seconds*1000)).format(\"MM/DD/YYYY HH:mm\"),\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-mypost2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mypostprofile-bad-img\",children:ok.resultfile?/*#__PURE__*/_jsx(\"img\",{className:\"img-circle\",src:\"\".concat(ok.resultfile.url)}):/*#__PURE__*/_jsx(\"img\",{className:\"img-circle\",src:\"/img/profile.png\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"container-myposts3\",children:/*#__PURE__*/_jsxs(Form,{className:\"formsize-mypost\",children:[/*#__PURE__*/_jsxs(Form.Row,{children:[/*#__PURE__*/_jsx(Form.Group,{as:Col,className:\"mypost-left col-lg-6 col-sm-6 col-12\",controlId:\"formGridName\",children:/*#__PURE__*/_jsxs(Form.Label,{className:\"text-mypost\",children:[\"\\u0E0A\\u0E37\\u0E48\\u0E2D (\\u0E1C\\u0E39\\u0E49\\u0E42\\u0E01\\u0E07)\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"spanmypost\",children:ok.name})]})}),/*#__PURE__*/_jsx(Form.Group,{as:Col,controlId:\"formGridLastname\",children:/*#__PURE__*/_jsxs(Form.Label,{className:\"text-mypost\",children:[\"\\u0E19\\u0E32\\u0E21\\u0E2A\\u0E01\\u0E38\\u0E25 (\\u0E1C\\u0E39\\u0E49\\u0E42\\u0E01\\u0E07)\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"spanmypost\",children:ok.surname})]})})]}),/*#__PURE__*/_jsxs(Form.Row,{children:[/*#__PURE__*/_jsx(Form.Group,{as:Col,className:\"mypost-left col-lg-6 col-sm-6 col-12\",controlId:\"formGridId\",children:/*#__PURE__*/_jsxs(Form.Label,{className:\"text-mypost\",children:[\"\\u0E40\\u0E25\\u0E02\\u0E1A\\u0E31\\u0E15\\u0E23\\u0E1B\\u0E23\\u0E30\\u0E0A\\u0E32\\u0E0A\\u0E19 (\\u0E1C\\u0E39\\u0E49\\u0E42\\u0E01\\u0E07)\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"spanmypost\",children:ok.id})]})}),/*#__PURE__*/_jsx(Form.Group,{as:Col,controlId:\"formGridAccountnumber\",children:/*#__PURE__*/_jsxs(Form.Label,{className:\"text-mypost\",children:[\"\\u0E40\\u0E25\\u0E02\\u0E17\\u0E35\\u0E48\\u0E1A\\u0E31\\u0E0D\\u0E0A\\u0E35 (\\u0E1C\\u0E39\\u0E49\\u0E42\\u0E01\\u0E07)\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"spanmypost\",children:ok.accountnumber})]})})]}),/*#__PURE__*/_jsxs(Form.Row,{children:[/*#__PURE__*/_jsx(Form.Group,{as:Col,className:\"mypost-left col-lg-6 col-sm-6 col-12\",controlId:\"formGridNameproduct\",children:/*#__PURE__*/_jsxs(Form.Label,{className:\"text-mypost\",children:[\"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"spanmypost\",children:ok.nameproduct})]})}),/*#__PURE__*/_jsx(Form.Group,{as:Col,controlId:\"formGridCategory\",children:/*#__PURE__*/_jsxs(Form.Label,{className:\"text-mypost\",children:[\"\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E2B\\u0E21\\u0E39\\u0E48\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"spanmypost\",children:ok.productcategory})]})})]}),/*#__PURE__*/_jsxs(Form.Row,{children:[/*#__PURE__*/_jsx(Form.Group,{as:Col,className:\"mypost-left col-lg-6 col-sm-6 col-12\",controlId:\"formGridPrice\",children:/*#__PURE__*/_jsxs(Form.Label,{className:\"text-mypost\",children:[\"\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\\u0E40\\u0E07\\u0E34\\u0E19 (\\u0E1A\\u0E32\\u0E17)\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"spanmypost\",children:ok.money})]})}),/*#__PURE__*/_jsx(Form.Group,{as:Col,controlId:\"formGridCategory\",children:/*#__PURE__*/_jsxs(Form.Label,{className:\"text-mypost\",children:[\"\\u0E18\\u0E19\\u0E32\\u0E04\\u0E32\\u0E23\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"spanmypost\",children:ok.bank})]})})]}),/*#__PURE__*/_jsxs(Form.Row,{children:[/*#__PURE__*/_jsx(Form.Group,{as:Col,className:\"mypost-left col-lg-6 col-sm-6 col-12\",controlId:\"formGridDate\",children:/*#__PURE__*/_jsxs(Form.Label,{className:\"text-mypost\",children:[\"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E42\\u0E14\\u0E19\\u0E42\\u0E01\\u0E07\",\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"spanmypost\",children:[moment(new Date(ok.datetimes.seconds*1000)).format(\"MM/DD/YYYY HH:mm\"),\" \"]})]})}),/*#__PURE__*/_jsx(Form.Group,{as:Col,controlId:\"formGridSocial\",children:/*#__PURE__*/_jsxs(Form.Label,{className:\"text-mypost\",children:[\"\\u0E0A\\u0E48\\u0E2D\\u0E07\\u0E17\\u0E32\\u0E07\\u0E17\\u0E35\\u0E48\\u0E42\\u0E14\\u0E19\\u0E42\\u0E01\\u0E07\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"spanmypost\",children:ok.social})]})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Row,{children:/*#__PURE__*/_jsx(Form.Group,{as:Col,controlId:\"formGridSocial\",children:/*#__PURE__*/_jsxs(Form.Label,{className:\"text-mypost\",children:[\"\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\\u0E04\\u0E23\\u0E31\\u0E49\\u0E07\\u0E17\\u0E35\\u0E48\",\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"spanmypostname\",children:[ok.name,\" \",ok.surname]}),\" \",\"\\u0E16\\u0E39\\u0E01\\u0E41\\u0E08\\u0E49\\u0E07\",\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"spanmypost\",children:[ok.count,\" \\u0E04\\u0E23\\u0E31\\u0E49\\u0E07\"]})]})})}),/*#__PURE__*/_jsx(Form.Row,{children:/*#__PURE__*/_jsx(Form.Group,{as:Col,controlId:\"formGridSocial\",children:/*#__PURE__*/_jsxs(Form.Label,{className:\"text-mypost\",children:[\"\\u0E22\\u0E2D\\u0E14\\u0E40\\u0E07\\u0E34\\u0E19\\u0E23\\u0E27\\u0E21\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\\u0E17\\u0E35\\u0E48\\u0E42\\u0E01\\u0E07\\u0E44\\u0E1B\",\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"spanmypost\",children:[ok.summoney,\" \\u0E1A\\u0E32\\u0E17\"]})]})})}),/*#__PURE__*/_jsx(Form.Group,{controlId:\"exampleForm.ControlTextarea1\",children:/*#__PURE__*/_jsxs(Form.Label,{className:\"text-mypost1\",children:[\"\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E40\\u0E15\\u0E34\\u0E21\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"spanmypostmore\",children:ok.other})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"imgcommentitemmypost1\",children:[ok.item?ok.item.map(function(res){return/*#__PURE__*/_jsx(\"img\",{className:\"img-bad\",alt:\"\",src:\"\".concat(res.url),style:{overflow:\"hidden\"},onClick:function onClick(){return Setimagemodal(res.url),handleopenmodal();}});}):null,/*#__PURE__*/_jsx(Modalimage,{isopen:isopen,handleopenmodal:handleopenmodal,handleclosemodal:handleclosemodal,imagemodal:imagemodal})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"line-comments1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container-mypost4\",children:/*#__PURE__*/_jsx(Commentmypost,{postid:ok.uid})})]})]})});}):null,\" \"]}):null});};export default Seepost;","map":{"version":3,"sources":["D:/monkeyfruad/frontend/src/admin/pages/seepost.js"],"names":["React","useEffect","useState","useContext","useRef","Link","useParams","useHistory","Modal","Form","Col","Button","_","Axios","NavbarPage","Commentmypost","Modalimage","moment","Seepost","isActive","setIsActive","onClick","mypost","Setmypost","showDropdown","SetshowDropdown","imagesFile","setImagesFile","files","Setfiles","isopen","Setisopen","imagemodal","Setimagemodal","inputTextArea","uid","history","ok","get","data","item","console","log","deleteClick","e","preventDefault","post","push","handleopenmodal","handleclosemodal","map","photoURL","url","username","Date","date","seconds","format","resultfile","name","surname","id","accountnumber","nameproduct","productcategory","money","bank","datetimes","social","count","summoney","other","res","overflow"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext, useRef } from \"react\";\r\nimport { Link, useParams, useHistory } from \"react-router-dom\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { Form, Col, Button } from \"react-bootstrap\";\r\nimport _ from \"lodash\";\r\nimport Axios from \"axios\";\r\nimport NavbarPage from \"../../user/components/navnew\";\r\nimport Commentmypost from \"../components/commentmypost\";\r\nimport Modalimage from \"../../user/components/Modalimage\";\r\nimport \"../../user/pages/mypost.css\";\r\nimport * as moment from \"moment\";\r\nimport \"moment/locale/th\";\r\nconst Seepost = () => {\r\n  const [isActive, setIsActive] = useState(false);\r\n  const onClick = () => setIsActive(!isActive);\r\n  const [mypost, Setmypost] = useState();\r\n  const [showDropdown, SetshowDropdown] = useState(true);\r\n  const [imagesFile, setImagesFile] = useState([]); //สร้าง State เพื่อเก็บไฟล์ที่อัพโหลด\r\n  const [files, Setfiles] = useState(\"\");\r\n  const [isopen, Setisopen] = useState(false);\r\n  const [imagemodal, Setimagemodal] = useState();\r\n  const inputTextArea = useRef(null);\r\n  let { uid } = useParams();\r\n  const history = useHistory();\r\n  const ok = async () => {\r\n    try {\r\n      const ok = await Axios.get(`http://localhost:7000/post/mypost/${uid}`);\r\n      Setmypost(ok.data.item);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  const deleteClick = async (e) => {\r\n    e.preventDefault();\r\n    await Axios.post(`http://localhost:7000/post/delete/${uid}`);\r\n    history.push(\"/report\");\r\n  };\r\n  const handleopenmodal = async () => {\r\n    Setisopen(true);\r\n  };\r\n  const handleclosemodal = async () => {\r\n    Setisopen(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    ok();\r\n  }, []);\r\n  return (\r\n    <div className=\"allpage\">\r\n      {mypost ? (\r\n        <div>\r\n          {\" \"}\r\n          <NavbarPage />\r\n          {mypost\r\n            ? mypost.map((ok) => {\r\n                return (\r\n                  <div>\r\n                    <div className=\"container-post2\">\r\n                      <button\r\n                        onClick={(e) => deleteClick(e)}\r\n                        variant=\"primary\"\r\n                        className=\"mypostbuttonreported\"\r\n                      >\r\n                        <i class=\"far fa-trash-alt\"></i>\r\n                      </button>\r\n                      <div className=\"mypost-profile-img\">\r\n                        {ok.photoURL ? (\r\n                          <img\r\n                            className=\"img-circle\"\r\n                            src={`${ok.photoURL.url}`}\r\n                          />\r\n                        ) : (\r\n                          <img className=\"img-circle\" src=\"/img/profile.png\" />\r\n                        )}\r\n                        <div className=\"mypost-name\">\r\n                          {ok.username ? \"@\" : null}\r\n                          {ok ? ok.username : null}\r\n                        </div>\r\n                        <br />\r\n                        <div className=\"mypost-date\">\r\n                          {moment(new Date(ok.date.seconds * 1000)).format(\r\n                            \"MM/DD/YYYY HH:mm\"\r\n                          )}{\" \"}\r\n                          {/* <span className=\"mypost-time\">23:38 </span> */}\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"container-mypost2\">\r\n                        <div className=\"mypostprofile-bad-img\">\r\n                          {ok.resultfile ? (\r\n                            <img\r\n                              className=\"img-circle\"\r\n                              src={`${ok.resultfile.url}`}\r\n                            />\r\n                          ) : (\r\n                            <img\r\n                              className=\"img-circle\"\r\n                              src=\"/img/profile.png\"\r\n                            />\r\n                          )}\r\n                        </div>\r\n                        <div className=\"container-myposts3\">\r\n                        <Form className=\"formsize-mypost\">\r\n                          <Form.Row>\r\n                            <Form.Group\r\n                              as={Col}\r\n                              className=\"mypost-left col-lg-6 col-sm-6 col-12\"\r\n                              controlId=\"formGridName\"\r\n                            >\r\n                              <Form.Label className=\"text-mypost\">\r\n                                ชื่อ (ผู้โกง){\" \"}\r\n                                <span className=\"spanmypost\">{ok.name}</span>\r\n                              </Form.Label>\r\n                            </Form.Group>\r\n\r\n                            <Form.Group as={Col} controlId=\"formGridLastname\">\r\n                              <Form.Label className=\"text-mypost\">\r\n                                นามสกุล (ผู้โกง){\" \"}\r\n                                <span className=\"spanmypost\">{ok.surname}</span>\r\n                              </Form.Label>\r\n                            </Form.Group>\r\n                          </Form.Row>\r\n\r\n                          <Form.Row>\r\n                            <Form.Group\r\n                              as={Col}\r\n                              className=\"mypost-left col-lg-6 col-sm-6 col-12\"\r\n                              controlId=\"formGridId\"\r\n                            >\r\n                              <Form.Label className=\"text-mypost\">\r\n                                เลขบัตรประชาชน (ผู้โกง){\" \"}\r\n                                <span className=\"spanmypost\">{ok.id}</span>\r\n                              </Form.Label>\r\n                            </Form.Group>\r\n\r\n                            <Form.Group\r\n                              as={Col}\r\n                              controlId=\"formGridAccountnumber\"\r\n                            >\r\n                              <Form.Label className=\"text-mypost\">\r\n                                เลขที่บัญชี (ผู้โกง){\" \"}\r\n                                <span className=\"spanmypost\">\r\n                                  {ok.accountnumber}\r\n                                </span>\r\n                              </Form.Label>\r\n                            </Form.Group>\r\n                          </Form.Row>\r\n\r\n                          <Form.Row>\r\n                            <Form.Group\r\n                              as={Col}\r\n                              className=\"mypost-left col-lg-6 col-sm-6 col-12\"\r\n                              controlId=\"formGridNameproduct\"\r\n                            >\r\n                              <Form.Label className=\"text-mypost\">\r\n                                ชื่อสินค้า{\" \"}\r\n                                <span className=\"spanmypost\">\r\n                                  {ok.nameproduct}\r\n                                </span>\r\n                              </Form.Label>\r\n                            </Form.Group>\r\n\r\n                            <Form.Group as={Col} controlId=\"formGridCategory\">\r\n                              <Form.Label className=\"text-mypost\">\r\n                                หมวดหมู่สินค้า{\" \"}\r\n                                <span className=\"spanmypost\">\r\n                                  {ok.productcategory}\r\n                                </span>\r\n                              </Form.Label>\r\n                            </Form.Group>\r\n                          </Form.Row>\r\n\r\n                          <Form.Row>\r\n                            <Form.Group\r\n                              as={Col}\r\n                              className=\"mypost-left col-lg-6 col-sm-6 col-12\"\r\n                              controlId=\"formGridPrice\"\r\n                            >\r\n                              <Form.Label className=\"text-mypost\">\r\n                                จำนวนเงิน (บาท){\" \"}\r\n                                <span className=\"spanmypost\">{ok.money}</span>\r\n                              </Form.Label>\r\n                            </Form.Group>\r\n\r\n                            <Form.Group as={Col} controlId=\"formGridCategory\">\r\n                              <Form.Label className=\"text-mypost\">\r\n                                ธนาคาร{\" \"}\r\n                                <span className=\"spanmypost\">{ok.bank}</span>\r\n                              </Form.Label>\r\n                            </Form.Group>\r\n                          </Form.Row>\r\n\r\n                          <Form.Row>\r\n                            <Form.Group\r\n                              as={Col}\r\n                              className=\"mypost-left col-lg-6 col-sm-6 col-12\"\r\n                              controlId=\"formGridDate\"\r\n                            >\r\n                              <Form.Label className=\"text-mypost\">\r\n                                วันที่โดนโกง{\" \"}\r\n                                <span className=\"spanmypost\">\r\n                                  {moment(\r\n                                    new Date(ok.datetimes.seconds * 1000)\r\n                                  ).format(\"MM/DD/YYYY HH:mm\")}{\" \"}\r\n                                </span>\r\n                              </Form.Label>\r\n                            </Form.Group>\r\n\r\n                            <Form.Group as={Col} controlId=\"formGridSocial\">\r\n                              <Form.Label className=\"text-mypost\">\r\n                                ช่องทางที่โดนโกง{\" \"}\r\n                                <span className=\"spanmypost\">{ok.social}</span>\r\n                              </Form.Label>\r\n                            </Form.Group>\r\n                          </Form.Row>\r\n                          <br />\r\n                          <Form.Row>\r\n                            <Form.Group as={Col} controlId=\"formGridSocial\">\r\n                              <Form.Label className=\"text-mypost\">\r\n                                จำนวนครั้งที่{\" \"}\r\n                                <span className=\"spanmypostname\">\r\n                                  {ok.name} {ok.surname}\r\n                                </span>{\" \"}\r\n                                ถูกแจ้ง{\" \"}\r\n                                <span className=\"spanmypost\">\r\n                                  {ok.count} ครั้ง\r\n                                </span>\r\n                              </Form.Label>\r\n                            </Form.Group>\r\n                          </Form.Row>\r\n                          <Form.Row>\r\n                            <Form.Group as={Col} controlId=\"formGridSocial\">\r\n                              <Form.Label className=\"text-mypost\">\r\n                                ยอดเงินรวมทั้งหมดที่โกงไป{\" \"}\r\n                                <span className=\"spanmypost\">\r\n                                  {ok.summoney} บาท\r\n                                </span>\r\n                              </Form.Label>\r\n                            </Form.Group>\r\n                          </Form.Row>\r\n\r\n                          <Form.Group controlId=\"exampleForm.ControlTextarea1\">\r\n                            <Form.Label className=\"text-mypost1\">\r\n                              รายละเอียดเพิ่มเติม{\" \"}\r\n                              <span className=\"spanmypostmore\">{ok.other}</span>\r\n                            </Form.Label>\r\n                          </Form.Group>\r\n                          <div className=\"imgcommentitemmypost1\">\r\n                            {ok.item\r\n                              ? ok.item.map((res) => {\r\n                                  return (\r\n                                    <img\r\n                                      className=\"img-bad\"\r\n                                      alt=\"\"\r\n                                      src={`${res.url}`}\r\n                                      style={{ overflow: \"hidden\" }}\r\n                                      onClick={() => (\r\n                                        Setimagemodal(res.url),\r\n                                        handleopenmodal()\r\n                                      )}\r\n                                    />\r\n                                  );\r\n                                })\r\n                              : null}\r\n                            <Modalimage\r\n                              isopen={isopen}\r\n                              handleopenmodal={handleopenmodal}\r\n                              handleclosemodal={handleclosemodal}\r\n                              imagemodal={imagemodal}\r\n                            />\r\n                          </div>\r\n                        </Form>\r\n                      </div>\r\n                      <div className=\"line-comments1\"></div>\r\n                      <div className=\"container-mypost4\">\r\n                        <Commentmypost postid={ok.uid} />\r\n                      </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })\r\n            : null}{\" \"}\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\nexport default Seepost;\r\n"]},"metadata":{},"sourceType":"module"}